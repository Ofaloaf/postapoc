# Colonization events by Sam

namespace = col

# cleanup event if invader is an unlanded republic
character_event = {
	id = col.1
	desc = EVTDESC_bounce
	picture = GFX_evt_merchant_ship_at_sea_republic
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_ruler = yes
		war = no
		OR = {
			has_landed_title = e_edokko
			has_landed_title = e_novorusskiy
		}
		government = colonial_government
		NOT = { demesne_size = 1 }
		NOT = { has_character_flag = colonist }
	}
	
	immediate = {
		set_government_type = feudal_government
		if = {
			limit = { has_landed_title = e_edokko }
			e_edokko = { destroy_landed_title = THIS }
		}
		if = {
			limit = { has_landed_title = e_novorusskiy }
			e_novorusskiy = { destroy_landed_title = THIS }
		}
	}
	
	option = {
		name = OK
		set_government_type = feudal_government
		family_palace = { destroy_landed_title = THIS }
		if = {
			limit = { has_landed_title = e_edokko }
			activate_title = { title = e_edokko status = no } 
		}
		if = {
			limit = { has_landed_title = e_novorusskiy }
			activate_title = { title = e_novorusskiy status = no } 
		}
	}
}	
	
# Japan decides to colonize province
province_event = {
	id = col.10
	desc = EVTDESC_bounce
	picture = GFX_evt_colonial_japan
	hide_window = yes
	
	trigger = {
		OR = {
			AND = {
				has_game_rule = {
					name = colonisation_invasions
					value = historical
				}
				year = 2740
				total_years_played = 50
			}
			AND = {
				has_game_rule = {
					name = colonisation_invasions
					value = random
				}
				year = 2650
				total_years_played = 50
			}
		}
		NOT = { 
			has_game_rule = {
				name = colonisation_invasions
				value = off
			}
		}
		NOT = { is_title_active = e_edokko }
		NOT = { has_global_flag = edokko_defeated }
		port = yes
		any_province_holding = { holding_type = city }
		county = {
			NOT = { de_facto_liege = e_novorusskiy }
			OR = {
				de_jure_liege = d_goldengate
				de_jure_liege = d_redwoods
				de_jure_liege = d_salinas
			}
		}
	}
	
	mean_time_to_happen = {
		years = 10
		modifier = {
			factor = 0.75
			has_global_flag = japan_victorious
		}
		modifier = {
			factor = 15.5
			has_global_flag = edokko_defeated
		}
		modifier = {
			factor = 0.95
			num_of_settlements = 4
		}
		modifier = {
			factor = 0.9
			num_of_settlements = 6
		}
		modifier = {
			factor = 1.1
			NOT = { num_of_settlements = 3 }
		}
	}
	
	option = {
		set_government_type = feudal_government
		holder_scope = {
			top_liege = {
				activate_title = { title = e_edokko status = yes }
				create_character = {
					random_traits = no
					dynasty = actually_culture
					culture = edokko
					religion = shinto
					age = 30
				}
				new_character = {
					add_artifact = ate_firearm
					random_list = {
						25 = {
							add_trait = ryobu_shinto
						}
						25 = {
							add_trait = shugendo_shinto
						}	
						25 = {
							add_trait = minzoku_shinto
						}	
						25 = {
							add_trait = koshitsu_shinto
						}
					}	
					e_edokko = {
						grant_title = PREV
					}
					random_list = {
						10 = { add_trait = midas_touched }
						10 = { add_trait = brilliant_strategist }
					}
					random_list = {
						25 = { }
						10 = { add_trait = quick }
						10 = { add_trait = strong }
						5 = { add_trait = genius }
					}
					random_list = {
						25 = { }
						20 = { add_trait = duelist }
						15 = { add_trait = gardener }
						10 = { add_trait = strategist }
						5 =  { add_trait = impaler }
					}
					add_trait = ambitious
					add_trait = brave
					add_trait = zealous
					
					random = { chance = 80 add_trait = diligent }
					random = { chance = 80 add_trait = patient }
					random = { chance = 50 add_trait = just }
					random = { chance = 50 add_trait = scarred }
					random = { chance = 40 add_trait = cruel }
					random = { chance = 40 add_trait = greedy }
					random = { chance = 40 add_trait = wroth }
					random = { chance = 40 add_trait = proud }
					wealth = 5000
					character_event = { id = salvage.140 } # Give random salvage
					character_event = { id = salvage.140 } # Give random salvage
					set_character_flag = colonist
					set_defacto_liege = THIS
					#character_event = { id = misc.3 } # Diversity
					narrative_event = { id = col.11 }
				}
			}
		}
	}
}

# Japan declares war
narrative_event = {
	id = col.11
	title = col.11.title
	desc = col.11.text
	major = yes
	is_triggered_only = yes
	hide_new = yes
	
	picture = "GFX_evt_colonial_japan"
	border = "GFX_event_narrative_frame_war"

	option = {
		name = col.11.optA
		trigger = { NOT = { has_landed_title = e_edokko } }
	}
	
	option = {
		name = col.11.optB
		trigger = { has_landed_title = e_edokko }
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = no
			age = 30
		}
		new_character = {
			add_artifact = ate_firearm
			spawn_unit = {
				province = FROM
				troops =
				{
					horse_archers = { 500 500 }
					light_infantry = { 400 400 }
					heavy_infantry = { 750 750 }
					pikemen = { 600 600 }
					archers = { 250 250 }
				}
				attrition = 0.25
				reinforces = yes
			}
			spawn_fleet = {
				province = closest
				owner = ROOT
				troops = {
					galleys = { 150 150 }
				}				
			}
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = salvage.140 } # Give random salvage
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = no
			age = 35
		}
		new_character = {
			add_artifact = ate_firearm
			spawn_unit = {
				province = FROM
				troops =
				{
					horse_archers = { 500 500 }
					light_infantry = { 400 400 }
					heavy_infantry = { 750 750 }
					pikemen = { 600 600 }
					archers = { 250 250 }
				}
				attrition = 0.25
				reinforces = yes
			}
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = salvage.140 } # Give random salvage
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = no
			age = 39
		}
		new_character = {
			add_artifact = ate_firearm
			spawn_unit = {
				province = FROM
				troops =
				{
					horse_archers = { 500 500 }
					light_infantry = { 400 400 }
					heavy_infantry = { 750 750 }
					pikemen = { 600 600 }
					archers = { 250 250 }
				}
				reinforces = yes
				attrition = 0.25
			}
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = salvage.140 } # Give random salvage
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
		}
		# Some extra courtiers
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = no
			age = 16
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = no
			age = 18
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = no
			age = 18
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = no
			age = 20
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = no
			age = 25
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = no
			age = 26
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = no
			age = 28
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = no
			name="Yuki"
			dynasty = 1543200
			dna=dhkdlpebbcd
			religion = shinto
			culture = edokko
			female = yes
			age = 18
			attributes={
				martial=5
				diplomacy=6
				stewardship=8
				intrigue=6
				learning=7
			}
			health=6
			fertility=1
			trait=quick
			trait=elusive_shadow
			trait=bisexual
			trait=chaste
			trait=deceitful
			trait=wroth
			trait=diligent
			trait=stubborn
		}
		new_character = { # Give random salvage
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = salvage.140 }
			set_character_flag=diversity
			set_character_flag=physique
		}
		create_character = {
			random_traits = no
			name="Tsukiko"
			dynasty = 1543266
			religion = shinto
			culture = edokko
			female = yes
			age = 20
			attributes={
				martial=7
				diplomacy=8
				stewardship=6
				intrigue=4
				learning=8
			}
			health=6
			fertility=1
			trait=quick
			trait=scholarly_theologian
			trait=lefthanded
			trait=mystic
			trait=celibate
			trait=kind
			trait=cynical
			trait=charitable
			trait=slothful
			trait=honest
			trait=shy
			trait=shugendo_shinto
			trait=homosexual
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}

		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = yes
			age = 18
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = yes
			age = 17
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = yes
			age = 18
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = yes
			age = 18
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = shinto
			culture = edokko
			female = yes
			age = 20
		}
		new_character = {
			wealth = 100
			random_list = {
				25 = {
					add_trait = ryobu_shinto
				}
				25 = {
					add_trait = shugendo_shinto
				}	
				25 = {
					add_trait = minzoku_shinto
				}	
				25 = {
					add_trait = koshitsu_shinto
				}
			}	
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		
		FROM = { # triggering province
			duchy = {
				ROOT = {
					war = {
						casus_belli = colonization
						target = PREVPREV # The top liege of the owner
						thirdparty_title = PREV # The de jure duchy
					}
				}
			}
		}
	}
}

# Japan victorious
narrative_event = {
	id = col.12
	title = col.12.title
	desc = col.12.text
	major = yes
	is_triggered_only = yes
	
	picture = "GFX_evt_colonial_japan"
	border = "GFX_event_narrative_frame_war"
	
	option = {
		name = col.12.optA
		trigger = { NOT = { has_landed_title = e_edokko } }
		set_global_flag = japan_victorious
	}
	
	option = {
		create_family_palace = yes
		set_government_type = colonial_government
		name = col.12.optB
		trigger = { has_landed_title = e_edokko }
		set_global_flag = japan_victorious
		military_techpoints = 6000
		economy_techpoints = 6000
		culture_techpoints = 6000
		e_edokko = {
			holder_scope = {
				spawn_unit = {
					province = closest_to_capital
					troops =
					{
						light_cavalry = { 750 750 }
						light_infantry = { 500 500 }
						pikemen = { 800 800 }
						archers = { 350 350 }
					}
					reinforces = yes
					attrition = 0.25
				}	
				any_courtier = {
					limit = { prestige = 100 }
					set_government_type = colonial_government
					wealth = 5000 # help them set up their trade empire
					spawn_unit = {
						province = closest_to_capital
						troops =
						{
							light_infantry = { 500 500 }
							pikemen = { 300 300 }
							archers = { 250 250 }
						}
						reinforces = yes
						attrition = 0.25
					}			
				}
			}
		}		
	}
	
	after = {
		any_realm_character = { character_event = { id = col.31 days = 100 } }	
	}
}

# Japan defeated
narrative_event = {
	id = col.13
	title = col.13.title
	desc = col.13.text
	major = yes
	is_triggered_only = yes
	
	picture = "GFX_evt_colonial_japan"
	border = "GFX_event_narrative_frame_war"
	#immediate = {
	#	destroy_landed_title = e_edokko
	#	activate_title = { title = e_edokko status = no } 
	#}
	option = {
		name = col.13.optA
		set_global_flag = edokko_defeated
	}
}

# support from homeland, in case of defensive war
character_event = {
	id = col.14
	title = col.24.title
	desc = col.24.text
	
	picture = "gfx_evt_colonial_japan"
	border = "GFX_event_normal_frame_war"
	only_rulers = yes
	is_independent = yes
	
	mean_time_to_happen = {	
		days = 200	
	}
	
	trigger = {
		has_landed_title = e_edokko
		is_primary_war_defender	= yes
		NOT = { realm_levies = 5000 }
		religion = shinto
		culture = edokko
	}
	
	immediate = {
		wealth = 500 
		spawn_unit = {
			owner = FROM
			troops =
			{							
				pikemen = { 800 800 }
				archers = { 350 350 }
				heavy_infantry = { 150 150 }
				knights = { 100 100 }
			}
			attrition = 0.25
		}
	}
	
	option = {
		name = col.24.opta				
	}	
}

# More japanese arrive
character_event = {
	id = col.15
	title = col.15.title
	desc = col.15.text
	
	picture = "GFX_evt_colonial_japan"
	border = "GFX_event_normal_frame_war"
	only_rulers = yes
	
	trigger = {
		has_landed_title = e_edokko
		government = colonial_government
		culture = edokko
		religion = shinto
	}
	
	mean_time_to_happen = {
		years = 100
		modifier = {
			factor = 0.9
			wealth = 500
		}
		modifier = {
			factor = 0.8
			wealth = 1000
		}
		modifier = {
			factor = 0.5
			diplomacy = 15
		}
		modifier = {
			factor = 0.5
			stewardship = 15
		}
	}
	
	immediate = {
		e_edokko = {
			holder_scope = {
				create_character = {
					random_traits = yes
					dynasty = actually_culture
					religion = shinto
					culture = edokko
					female = no
					age = 30
					trait = ambitious
				}
				new_character = {
					add_artifact = ate_firearm
					random_list = {
						25 = {
							add_trait = ryobu_shinto
						}
						25 = {
							add_trait = shugendo_shinto
						}	
						25 = {
							add_trait = minzoku_shinto
						}	
						25 = {
							add_trait = koshitsu_shinto
						}
					}	

					spawn_unit = {
						province = FROM
						troops =
						{							
							pikemen = { 300 300 }
							archers = { 250 250 }
							light_infantry = { 450 450 }
						}
						attrition = 0.25
						reinforces = yes
					}
					character_event = { id = misc.4 } # Physique
				}				
				random_realm_province = {
					limit = { 
						NOR = { 
							culture = edokko
						} 
					}
					culture = edokko
					religion = shinto					
				}
			}
		}
	}
	
	option = {
		name = col.15.optA
	}
}

# Russia decides to colonize province
province_event = {
	id = col.20
	desc = EVTDESC_bounce
	picture = GFX_evt_colonial_russia
	hide_window = yes
	
	trigger = {
		OR = {
			AND = {
				has_game_rule = {
					name = colonisation_invasions
					value = historical
				}
				year = 2740
				total_years_played = 50
			}
			AND = {
				has_game_rule = {
					name = colonisation_invasions
					value = random
				}
				year = 2650
				total_years_played = 50
			}
		}
		NOT = { 
			has_game_rule = {
				name = colonisation_invasions
				value = off
			}
		}
		NOT = { is_title_active = e_novorusskiy }
		NOT = { has_global_flag = novorusskiy_defeated }
		port = yes
		any_province_holding = { holding_type = city }
		county = {
			NOT = { de_facto_liege = e_edokko }
			OR = {
				de_jure_liege = d_juneau
				de_jure_liege = d_alexander
				de_jure_liege = d_haida_gwaii
				de_jure_liege = d_the_coast
			}
		}
	}
	
	mean_time_to_happen = {
		years = 10
		modifier = {
			factor = 0.75
			has_global_flag = russia_victorious
		}
		modifier = {
			factor = 15.5
			has_global_flag = novorusskiy_defeated
		}
		modifier = {
			factor = 0.95
			num_of_settlements = 4
		}
		modifier = {
			factor = 0.9
			num_of_settlements = 6
		}
		modifier = {
			factor = 1.1
			NOT = { num_of_settlements = 3 }
		}
	}
	
	option = {
		set_government_type = feudal_government
		holder_scope = {
			top_liege = {
				activate_title = { title = e_novorusskiy status = yes }
				create_character = {
					random_traits = no
					dynasty = 1721136
					religion = nousthreskeia
					culture = vlodivostockiy
					age = 30
				}
				new_character = {
					add_artifact = ate_firearm
					e_novorusskiy = {
						grant_title = PREV
					}
					random_list = {
						10 = { add_trait = elusive_shadow }
						10 = { add_trait = brilliant_strategist }
					}
					random_list = {
						25 = { }
						20 = { add_trait = strong }
						5 = { add_trait = quick }
						5 = { add_trait = genius }
					}
					random_list = {
						25 = { }
						20 = { add_trait = hedonist }
						15 = { add_trait = mystic }
						10 = { add_trait = strategist }
						5 =  { add_trait = gamer }
					}
					add_trait = ambitious
					add_trait = zealous
					random = { chance = 80 add_trait = brave }
					random = { chance = 80 add_trait = gregarious }
					random = { chance = 50 add_trait = diligent }
					random = { chance = 50 add_trait = patient }
					random = { chance = 50 add_trait = cynical }
					random = { chance = 50 add_trait = just }
					random = { chance = 50 add_trait = drunkard }
					random = { chance = 30 add_trait = cruel }
					random = { chance = 30 add_trait = greedy }
					random = { chance = 30 add_trait = wroth }
					random = { chance = 30 add_trait = proud }
					wealth = 5000
					character_event = { id = salvage.140 } # Give random salvage
					character_event = { id = salvage.140 } # Give random salvage
					set_character_flag = colonist
					set_defacto_liege = THIS
					#character_event = { id = misc.3 } # Diversity
					narrative_event = { id = col.21 }
				}
			}
		}
	}
}

# Russia declares war
narrative_event = {
	id = col.21
	title = col.21.title
	desc = col.21.text
	major = yes
	is_triggered_only = yes
	hide_new = yes
	
	picture = "GFX_evt_colonial_russia"
	border = "GFX_event_narrative_frame_war"

	option = {
		name = col.21.optA
		trigger = { NOT = { has_landed_title = e_novorusskiy } }
	}
	
	option = {
		name = col.21.optB
		trigger = { has_landed_title = e_novorusskiy }
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = vlodivostockiy
			female = no
			age = 30
		}
		new_character = {
			wealth = 100
			add_artifact = ate_firearm
			spawn_unit = {
				province = FROM
				troops =
				{
					light_cavalry = { 300 300 }
					light_infantry = { 1000 1000 }
					heavy_infantry = { 450 450 }
					knights = { 250 250 }
					pikemen = { 300 300 }
					archers = { 750 750 }
				}
				attrition = 0.25
				reinforces = yes
			}
			spawn_fleet = {
				province = closest
				owner = ROOT
				troops = {
					galleys = { 150 150 }
				}				
			}
			character_event = { id = salvage.140 } # Give random salvage
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = petropavlovskiy
			female = no
			age = 35
		}
		new_character = {
			wealth = 100
			add_artifact = ate_firearm
			spawn_unit = {
				province = FROM
				troops =
				{
					light_cavalry = { 300 300 }
					light_infantry = { 1000 1000 }
					heavy_infantry = { 450 450 }
					knights = { 250 250 }
					pikemen = { 300 300 }
					archers = { 750 750 }
				}
				attrition = 0.25
				reinforces = yes
			}
			character_event = { id = salvage.140 } # Give random salvage
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = vlodivostockiy
			female = no
			age = 39
		}
		new_character = {
			wealth = 100
			add_artifact = ate_firearm
			spawn_unit = {
				province = FROM
				troops =
				{
					light_cavalry = { 300 300 }
					light_infantry = { 1000 1000 }
					heavy_infantry = { 450 450 }
					knights = { 250 250 }
					pikemen = { 300 300 }
					archers = { 750 750 }
				}
				attrition = 0.25
				reinforces = yes
			}
			character_event = { id = salvage.140 } # Give random salvage
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
		}
		# Some extra courtiers
		create_character = {
			random_traits = no
			name="Nikolay"
			dynasty = 1721135
			dna=dfeaewjbgce
			religion = nousthreskeia
			culture = vlodivostockiy
			female = no
			age = 18
			attributes={
				martial=6
				diplomacy=7
				stewardship=4
				intrigue=4
				learning=6
			}
			health=6
			fertility=1
			trait=charismatic_negotiator
			trait=strong
			trait=content
			trait=gregarious
			trait=kind
			trait=patient
		}
		new_character = { # Give random salvage
			wealth = 100
			character_event = { id = salvage.140 }
			set_character_flag=diversity
			set_character_flag=physique
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = petropavlovskiy
			female = no
			age = 16
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = vlodivostockiy
			female = no
			age = 18
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = vlodivostockiy
			female = no
			age = 18
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = petropavlovskiy
			female = no
			age = 20
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = petropavlovskiy
			female = no
			age = 25
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = vlodivostockiy
			female = no
			age = 26
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = petropavlovskiy
			female = no
			age = 28
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = vlodivostockiy
			female = yes
			age = 16
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = vlodivostockiy
			female = yes
			age = 17
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = petropavlovskiy
			female = yes
			age = 18
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = petropavlovskiy
			female = yes
			age = 18
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		create_character = {
			random_traits = yes
			dynasty = actually_culture
			religion = nousthreskeia
			culture = petropavlovskiy
			female = yes
			age = 20
		}
		new_character = {
			wealth = 100
			character_event = { id = misc.3 } # Diversity
			character_event = { id = misc.4 } # Physique
			character_event = { id = salvage.140 } # Give random salvage
		}
		
		FROM = { # triggering province
			duchy = {
				ROOT = {
					war = {
						casus_belli = colonization
						target = PREVPREV # The top liege of the owner
						thirdparty_title = PREV # The de jure duchy
					}
				}
			}
		}
	}
}

# Russia victorious
narrative_event = {
	id = col.22
	title = col.22.title
	desc = col.22.text
	major = yes
	is_triggered_only = yes
	
	picture = "GFX_evt_colonial_russia"
	border = "GFX_event_narrative_frame_war"
	
	option = {
		name = col.22.optA
		trigger = { NOT = { has_landed_title = e_novorusskiy } }
		set_global_flag = russia_victorious
	}
	
	option = {
		create_family_palace = yes
		set_government_type = colonial_government
		name = col.22.optB
		trigger = { has_landed_title = e_novorusskiy }
		set_global_flag = russia_victorious
		military_techpoints = 6000
		economy_techpoints = 6000
		culture_techpoints = 6000
		e_novorusskiy = {
			holder_scope = {
				spawn_unit = {
					province = closest_to_capital
					troops =
					{
						light_cavalry = { 750 750 }
						light_infantry = { 500 500 }
						pikemen = { 800 800 }
						archers = { 350 350 }
					}
					reinforces = yes
					attrition = 0.25
				}
				any_courtier = {
					limit = { 
						prestige = 50
					}
					set_government_type = colonial_government
					wealth = 1000 # help them set up their trade empire
				}
			}
		}		
	}
	
	after = {
		any_realm_character = { character_event = { id = col.31 days = 100 } }	
	}
	
}

# Russia defeated
narrative_event = {
	id = col.23
	title = col.23.title
	desc = col.23.text
	major = yes
	is_triggered_only = yes
	
	picture = "GFX_evt_colonial_russia"
	border = "GFX_event_narrative_frame_war"
	#immediate = {
	#	destroy_landed_title = e_novorusskiy
	#	activate_title = { title = e_novorusskiy status = no } 
	#}
	option = {
		name = col.23.optA
		set_global_flag = novorusskiy_defeated
	}
}

# support from homeland, in case of defensive war
character_event = {
	id = col.24
	title = col.24.title
	desc = col.24.text
	
	picture = "gfx_evt_colonial_russia"
	border = "gfx_event_normal_frame_war"
	only_rulers = yes
	is_independent = yes
	
	mean_time_to_happen = {	
		days = 300	
	}
	
	trigger = {
		has_landed_title = e_novorusskiy
		is_primary_war_defender	= yes
		government = colonial_government
		NOT = { realm_levies = 5000 }
		OR = {
			culture = petropavlovskiy
			culture = vlodivostockiy
		}
		religion = nousthreskeia
	}
	
	immediate = {
		wealth = 500 
		spawn_unit = {
			owner = FROM
			troops =
			{							
				pikemen = { 800 800 }
				archers = { 650 650 }
				light_infantry = { 300 300 }
				heavy_infantry = { 150 150 }
			}
			attrition = 0.25
		}
	}
	
	option = {
		name = col.24.opta
	}	
}


# More russians arrive
character_event = {
	id = col.25
	title = col.25.title
	desc = col.25.text
	
	picture = "GFX_evt_colonial_russia"
	border = "GFX_event_normal_frame_war"
	only_rulers = yes
	
	trigger = {
		has_landed_title = e_novorusskiy
		government = colonial_government
		OR = {
			culture = petropavlovskiy
			culture = vlodivostockiy
		}
		religion = nousthreskeia
	}
	
	mean_time_to_happen = {
		years = 100
		modifier = {
			factor = 0.9
			wealth = 500
		}
		modifier = {
			factor = 0.8
			wealth = 1000
		}
		modifier = {
			factor = 0.5
			diplomacy = 15
		}
		modifier = {
			factor = 0.5
			stewardship = 15
		}
	}
	
	immediate = {
		e_novorusskiy = {
			holder_scope = {
				random_list = {
					10 = {
						create_character = {
						random_traits = yes
						dynasty = culture
						religion = nousthreskeia
						culture = vlodivostockiy
						female = no
						age = 30
						trait = ambitious
						}
						random_realm_province = {
							limit = { 
								NOR = { 
									culture = vlodivostockiy
									culture = petropavlovskiy
								} 
							}
							culture = vlodivostockiy
							religion = nousthreskeia
						}
						new_character = {
							wealth = 100
							set_defacto_liege = ROOT						
						}
					}
					10 = {
						create_character = {
						random_traits = yes
						dynasty = culture
						religion = nousthreskeia
						culture = petropavlovskiy
						female = no
						age = 30
						trait = ambitious
						}
						random_realm_province = {
							limit = { 
								NOR = { 
									culture = vlodivostockiy
									culture = petropavlovskiy
								} 
							}
							culture = petropavlovskiy
							religion = nousthreskeia							
						}
						new_character = {
							wealth = 100
							set_defacto_liege = ROOT						
						}
					}
				}
			}
		}
	}
	
	option = {
		name = col.25.optA
	}
}

#Funds for all colonial rulers / General event
character_event = {
	id = col.31
	title = col.31.title
	desc = col.31.text
	
	picture = "GFX_evt_colonial_russia"
	border = "GFX_event_normal_frame_war"
	
	only_rulers = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			culture = petropavlovskiy
			culture = vlodivostockiy
			culture = edokko
		}
	}
	
	
	immediate = {
		wealth = 5000
	}
	
	option = {
		name = col.31.optA
	}
}

narrative_event = {
	id = col.50
	title = col.45.title
	desc = col.45.text
	picture = "GFX_evt_colonial_russia"
	is_triggered_only = yes
	trigger = {
		has_landed_title = e_novorusskiy
		NOT = { has_global_flag = tsardom_arrives }
	}
	option = {
		name = "EVTOPTB_col40"
		trigger = {
			b_pelican_AK = {
				holder_scope = {
					ai = yes #Culls AI colonizers.
				}
			}
		}
		c_sitka = { 
			holder_scope = {
				grant_title_no_opinion = b_pelican_AK
			}
		}
		set_global_flag = tsardom_arrives
		destroy_landed_title = e_novorusskiy
		activate_title = { title = e_novorusskiy status = no } 
		death = { death_reason = death_vanished }
	}
	option = {
		name = "EVTOPTA_col40"
		trigger = {
			b_pelican_AK = {
				holder_scope = {
					ai = no #Culls AI colonizers.
				}
			}
		}
		set_global_flag = tsardom_arrives
		wealth = 5000
		add_artifact = ate_firearm
		grant_title_no_opinion = d_juneau
		grant_title_no_opinion = c_sitka
		grant_title_no_opinion = c_juneau
		narrative_event = { id = col.22 }
		capital_scope = {
			random_province_holding = {
				limit = {
					holding_type = city
					holder_scope = {
						OR = {
							character = ROOT
							is_liege_or_above = ROOT
						}
					}
				}
				if = {
					limit = {
						NOT = { holder = ROOT }
					}
					usurp_title = ROOT
				}
				make_capital_holding = yes
			}
			create_character = {
				random_traits = yes
				dynasty = none
				religion = nousthreskeia
				culture = vlodivostockiy
				female = no
				age = 30
			}
			new_character = {
				add_artifact = ate_firearm
				character_event = { id = salvage.140 } # Give random salvage
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				spawn_unit = {
					province = FROM
						troops = {
							light_cavalry = { 1200 1200 }
							light_infantry = { 3000 3000 }
							heavy_infantry = { 950 950 }
							knights = { 500 500 }
							pikemen = { 600 600 }
							archers = { 1500 1500 }
						}
						attrition = 0.25
				}
			}
			create_character = {
				random_traits = yes	
				dynasty = actually_culture
				religion = nousthreskeia
				culture = petropavlovskiy
				female = no
				age = 35
			}
			new_character = {
				wealth = 100
				add_artifact = ate_firearm

				character_event = { id = salvage.140 } # Give random salvage
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = vlodivostockiy
				female = no
				age = 39
			}
			new_character = {
				wealth = 100
				add_artifact = ate_firearm
				character_event = { id = salvage.140 } # Give random salvage
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
			}
			# Some extra courtiers
			create_character = {
				random_traits = no
				name="Nikolay"
				dynasty = 1721135
				dna=dfeaewjbgce
				religion = nousthreskeia
				culture = vlodivostockiy
				female = no
				age = 18
				attributes={
					martial=6
					diplomacy=7
					stewardship=4
					intrigue=4
					learning=6	
				}
				health=6
				fertility=1
				trait=charismatic_negotiator
				trait=strong
				trait=content
				trait=gregarious
				trait=kind
				trait=patient
			}
			new_character = { # Give random salvage
				wealth = 100
				character_event = { id = salvage.140 }
				set_character_flag=diversity
				set_character_flag=physique
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = petropavlovskiy
				female = no
				age = 16
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = vlodivostockiy
				female = no
				age = 18
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = vlodivostockiy
				female = no
				age = 18
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = petropavlovskiy
				female = no
				age = 20
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = petropavlovskiy
				female = no
				age = 25
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = vlodivostockiy
				female = no
				age = 26
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = petropavlovskiy
				female = no
				age = 28
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = vlodivostockiy
				female = yes
				age = 16
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = vlodivostockiy
				female = yes
				age = 17
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = petropavlovskiy
				female = yes
				age = 18
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = petropavlovskiy
				female = yes
				age = 18
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = nousthreskeia
				culture = petropavlovskiy
				female = yes
				age = 20
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
		set_government_type = colonial_government
		}
	}
}
narrative_event = {
	id = col.55
	title = col.40.title
	desc = col.40.text
	picture = "GFX_evt_colonial_japan"
	is_triggered_only = yes
	trigger = {
		has_landed_title = e_edokko
		NOT = { has_global_flag = empire_arrives }
	}
	option = {
		name = "EVTOPTB_col40"
		trigger = {
			b_alcatraz_CA = {
				holder_scope = {
					ai = yes #Culls AI colonizers.
				}
			}
		}
		c_san_francisco = { 
			holder_scope = {
				grant_title_no_opinion = b_alcatraz_CA
			}
		}
		set_global_flag = empire_arrives
		destroy_landed_title = e_edokko
		activate_title = { title = e_edokko status = no } 

		death = { death_reason = death_vanished }
	}
	option = {
		name = "EVTOPTA_col40"
		trigger = {
			b_alcatraz_CA = {
				holder_scope = {
					ai = no #Culls AI colonizers.
				}
			}
		}
		set_global_flag = empire_arrives
		wealth = 5000
		add_artifact = ate_firearm
		grant_title_no_opinion = c_marin
		grant_title_no_opinion = c_san_francisco
		grant_title_no_opinion = d_goldengate
		narrative_event = { id = col.12 }
		capital_scope = {
			random_province_holding = {
				limit = {
					holding_type = city
					holder_scope = {
						OR = {
							character = ROOT
							is_liege_or_above = ROOT
						}
					}
				}
				if = {
					limit = {
						NOT = { holder = ROOT }
					}
					usurp_title = ROOT
				}
				make_capital_holding = yes
			}
			create_character = {
				random_traits = yes
				dynasty = none
				religion = shinto
				culture = edokko
				female = no
				age = 30
			}
			new_character = {
				add_artifact = ate_firearm
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = salvage.140 } # Give random salvage
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				spawn_unit = {
					province = PREV
						troops = {
							horse_archers = { 1125 1125 }
							light_infantry = { 900 900 }
							heavy_infantry = { 1125 1125 }
							pikemen = { 900 900 }
							archers = { 375 375 }
						}
						attrition = 0.25
					}
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = no
				age = 35
			}
			new_character = {
				add_artifact = ate_firearm
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = salvage.140 } # Give random salvage
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = no
				age = 35
			}
			new_character = {
				add_artifact = ate_firearm
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = salvage.140 } # Give random salvage
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
			}
		# Some extra courtiers
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = no
				age = 16
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = no
				age = 18
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = no
				age = 18
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = no
				age = 20
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = no
				age = 25
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = no
				age = 26
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = no
				age = 28
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = no
				name="Yuki"
				dynasty = 1543200
				dna=dhkdlpebbcd
				religion = shinto
				culture = edokko
				female = yes
				age = 18
				attributes={
					martial=5
					diplomacy=6
					stewardship=8
					intrigue=6
					learning=7
				}
				health=6
				fertility=1
				trait=quick
				trait=elusive_shadow
				trait=bisexual
				trait=deceitful
				trait=wroth
				trait=diligent
				trait=stubborn
			}
			new_character = { # Give random salvage
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = salvage.140 }
				set_character_flag=diversity
				set_character_flag=physique
			}
			create_character = {
				random_traits = no
				name="Tsukiko"
				dynasty = 1543266
				religion = shinto
				culture = edokko
				female = yes
				age = 20
				attributes={
					martial=7
					diplomacy=8
					stewardship=6
					intrigue=4
					learning=8
				}
				health=6
				fertility=1
				trait=quick
				trait=scholarly_theologian
				trait=lefthanded
				trait=mystic
				trait=celibate
				trait=kind
				trait=cynical
				trait=charitable
				trait=slothful
				trait=honest
				trait=shy
				trait=shugendo_shinto
				trait=homosexual
			}
			new_character = {
				wealth = 100
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}

			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = yes
				age = 18
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = yes
				age = 17
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = yes
				age = 18
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = yes
				age = 18
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
			create_character = {
				random_traits = yes
				dynasty = actually_culture
				religion = shinto
				culture = edokko
				female = yes
				age = 20
			}
			new_character = {
				wealth = 100
				random_list = {
					25 = {
						add_trait = ryobu_shinto
					}
					25 = {
						add_trait = shugendo_shinto
					}
					25 = {
						add_trait = minzoku_shinto
					}
					25 = {
						add_trait = koshitsu_shinto
					}
				}	
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				character_event = { id = salvage.140 } # Give random salvage
			}
		set_government_type = colonial_government
		}	
	}
}
character_event = {
	id = col.59
	hide_window = yes
	
	is_triggered_only = yes
	trigger = {
		has_landed_title = k_revivalist_invasion
		NOT = { has_global_flag = revivalist_landing }
	}
	option = {
		trigger = {
			b_hyde_park_GUY = {
				holder_scope = {
					ai = yes #Culls AI colonizers.
				}
			}
		}
		c_georgetown = { 
			holder_scope = {
				grant_title_no_opinion = b_hyde_park_GUY
			}
		}
		set_global_flag = revivalist_landing
		destroy_landed_title = k_revivalist_invasion
		death = { death_reason = death_vanished }
	}
	option = {
		trigger = {
			b_hyde_park_GUY = {
				holder_scope = {
					ai = no #Culls AI colonizers.
				}
			}
		}
		grant_title_no_opinion = c_georgetown
		grant_title_no_opinion = c_pomeroon
		grant_title_no_opinion = c_new_amsterdam
		grant_title_no_opinion = d_revivalist
		set_global_flag = muslim_revival_activated
		set_global_flag = revivalist_landing
		wealth = 2000
		narrative_event = { id = col.60 }
		capital_scope = {
			create_character = {
				random_traits = yes
				dynasty = none
				religion = revivalist
				culture = moroccan
				female = no
				age = 30
			}
			new_character = {
				character_event = { id = salvage.140 } # Give random salvage
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				spawn_unit = {
					province = PREV
						troops = {
							light_infantry = { 1241 1241 }
							heavy_infantry = { 1010 1010 }
							light_cavalry = { 1337 1337 }
							knights = { 1024 1024 }
						}
						attrition = 0.25
					}
			}
			create_character = {
				random_traits = yes
				dynasty = none
				religion = revivalist
				culture = moroccan
				female = no
				age = 30
			}
			new_character = {
				character_event = { id = salvage.140 } # Give random salvage
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				spawn_unit = {
					province = PREV
						troops = {
							light_infantry = { 620 620 }
							heavy_infantry = { 500 500 }
							light_cavalry = { 300 300 }
							knights = { 200 200 }
						}
						attrition = 0.25
					}
			}
			create_character = {
				random_traits = yes
				dynasty = none
				religion = revivalist
				culture = moroccan
				female = no
				age = 30
			}
			new_character = {
				character_event = { id = salvage.140 } # Give random salvage
				character_event = { id = misc.3 } # Diversity
				character_event = { id = misc.4 } # Physique
				spawn_unit = {
					province = PREV
						troops = {
							light_infantry = { 620 620 }
							heavy_infantry = { 500 500 }
							light_cavalry = { 300 300 }
							knights = { 200 200 }
						}
						attrition = 0.25
					}
			}
		}
	}
}

# Revivalist Landing
narrative_event = {
	id = col.60
	title = EVTTITLE_revivalist3
	desc = EVTDESC_revivalist4
	is_triggered_only = yes
	
	picture = "GFX_evt_melee_arabic"
	border = "GFX_event_narrative_frame_war"
	
	option = {
		name = EVTOPTB_revivalist3
		trigger = { has_landed_title = k_redcoat_outpost }
		trigger = { has_landed_title = k_redcoat_outpost }
		set_global_flag = redcoat_landing
		military_techpoints = 2000
		economy_techpoints = 2000
		culture_techpoints = 2000
	}
}




