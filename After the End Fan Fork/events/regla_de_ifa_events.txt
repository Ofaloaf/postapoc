#All events related to the new Afro-Syncretic society. This is my redemption for constantly hijacking vanilla event files in a really difficult to maintain way.

namespace = regladeifa #wanted to use a different namespace but whatever

#1-			basic society maintenance
#100-103	happiness potion
#200-201	scrying
#300-303	tire machet training
#400-440	fetish creation (I am very glad I gave myself 100 events for this, as I may very well need them)
#441		invite ascetic
#500-		mission tombola and quests

#1-3 were redundant.

#Happiness Potion

#Giving the potion to yourself
character_event = {
    id = regladeifa.100
    desc = EVTDESC_regladeifa_100
    picture = GFX_evt_experiment
    border = GFX_event_normal_frame_religion

    hide_from = yes

    is_triggered_only = yes
    
    option = { 
        name = EVTOPTA_regladeifa_100

        if = { 
			limit = { trait = stressed }
			remove_trait = stressed
		}
		if = { 
			limit = { trait = depressed }
			remove_trait = depressed
		}
		if = {
			limit = { has_character_modifier = apathetic }
			remove_character_modifier = apathetic
		}

		hidden_effect = {
			clr_character_flag = preparing_potion
			random = {
				chance = 40
				#no potion quality because no ingredients. screw it.
				character_event = { id = regladeifa.103 days = 150 random = 600 }
			}
		} 
    }
}

#The other person gets offered a potion
character_event = {
    id = regladeifa.101
    desc = EVTDESC_regladeifa_101
    picture = GFX_evt_experiment
    border = GFX_event_normal_frame_religion

    is_triggered_only = yes
    
    option = { 
        name = EVTOPTA_regladeifa_101
        custom_tooltip = { text = EVTOPTA_regladeifa_101_TT }

        tooltip = {
	        if = { 
				limit = { trait = stressed }
				remove_trait = stressed
			}
			if = { 
				limit = { trait = depressed }
				remove_trait = depressed
			}
			if = {
				limit = { has_character_modifier = apathetic }
				remove_character_modifier = apathetic
			}
        }

		hidden_effect = { FROM = { character_event = { id = regladeifa.102 } } }

		ai_chance = {
			factor = 50
			modifier = {
				society_member_of = regla_de_ifa
				factor = 3
			}
		}
    }

    option = {
        name = EVTOPTB_regladeifa_101
        custom_tooltip = { text = EVTOPTB_regladeifa_101_TT }

        reverse_opinion = {
        	who = FROM
        	modifier = opinion_ungrateful
        }
        #Does not give follow-up because if a player recieves this, the sender is a courtier

        ai_chance = {
			factor = 50
			modifier = {
				trait = zealous
				factor = 3
			}
			modifier = {
				liege = { character = FROM } #A player will always get a yes
				factor = 0
			}
		}
    }
}


#Giving the potion to someone else 
character_event = {
    id = regladeifa.102
    desc = EVTDESC_regladeifa_102
    picture = GFX_evt_experiment
    border = GFX_event_normal_frame_religion

    is_triggered_only = yes
    
    option = { 
        name = EVTOPTA_regladeifa_102
		
    	FROM = {
	        if = { 
				limit = { trait = stressed }
				remove_trait = stressed
			}
			if = { 
				limit = { trait = depressed }
				remove_trait = depressed
			}
			if = {
				limit = { has_character_modifier = apathetic }
				remove_character_modifier = apathetic
			}

			hidden_effect = {
				random = {
					chance = 20
					character_event = { id = regladeifa.103 days = 150 random = 600 }  
				}
			} 
    	}

        reverse_opinion = {
        	who = FROM
        	modifier = opinion_grateful
        }
    }
}

#The good effect didn't last
character_event = {
    id = regladeifa.103
    desc = EVTDESC_regladeifa_103
    picture = GFX_evt_illness
    border = GFX_event_normal_frame_religion

    is_triggered_only = yes

    trigger = { NOT = { trait = depressed } }

    option = { 
        name = EVTOPTA_regladeifa_103

        add_trait = depressed

        add_character_modifier = {
        	name = apathetic
        	years = 5
        }
    }
}

#Scrying
character_event = {
    id = regladeifa.200
	desc = EVTDESC_regladeifa_200
    picture = GFX_evt_dark_prayer
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes

    trigger = {
    	has_dlc = "Mystics"
    	has_an_omen_modifier_trigger = no
    }

    option = { # I want to know about battles to come
        name = EVTOPTA_regladeifa_200
        set_character_flag = battle_focused_scrying_flag
    }
    option = { # I want to know where my relationships will lead
        name = EVTOPTB_regladeifa_200
        set_character_flag = relationship_focused_scrying_flag
    }
    option = { # I want to find out how to increase my power
        name = EVTOPTC_regladeifa_200
        set_character_flag = power_hungry_scrying_flag
    }
	
    after = {
    	hidden_effect = {
   			character_event = { id = regladeifa.201 days = 5 random = 1 }
    	}
    }
}

character_event = { # You see something in the water and react well or poorly to it
    id = regladeifa.201
    picture = GFX_evt_dark_prayer
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes

    trigger = {
    	has_dlc = "Mystics"
    	has_an_omen_modifier_trigger = no
    	society_member_of = regla_de_ifa
    }

    desc = {
    	trigger = { has_character_flag = battle_focused_scrying_flag has_character_flag = desc_variation_A_flag }
    	text = EVTDESC_regladeifa_201_BATTLE_A
    }
    desc = {
    	trigger = { has_character_flag = battle_focused_scrying_flag has_character_flag = desc_variation_B_flag }
    	text = EVTDESC_regladeifa_201_BATTLE_B
    }
    desc = {
    	trigger = { has_character_flag = battle_focused_scrying_flag has_character_flag = desc_variation_C_flag }
    	text = EVTDESC_regladeifa_201_BATTLE_C
    }

    desc = {
    	trigger = { has_character_flag = relationship_focused_scrying_flag has_character_flag = desc_variation_A_flag }
    	text = EVTDESC_regladeifa_201_RELATIONSHIP_A
    }
    desc = {
    	trigger = { has_character_flag = relationship_focused_scrying_flag has_character_flag = desc_variation_B_flag }
    	text = EVTDESC_regladeifa_201_RELATIONSHIP_B
    }
    desc = {
    	trigger = { has_character_flag = relationship_focused_scrying_flag has_character_flag = desc_variation_C_flag }
    	text = EVTDESC_regladeifa_201_RELATIONSHIP_C
    }

    desc = {
    	trigger = { has_character_flag = power_hungry_scrying_flag has_character_flag = desc_variation_A_flag }
    	text = EVTDESC_regladeifa_201_POWER_A
    }
    desc = {
    	trigger = { has_character_flag = power_hungry_scrying_flag has_character_flag = desc_variation_B_flag }
    	text = EVTDESC_regladeifa_201_POWER_B
    }
    desc = {
    	trigger = { has_character_flag = power_hungry_scrying_flag has_character_flag = desc_variation_C_flag }
    	text = EVTDESC_regladeifa_201_POWER_C
    }

    immediate = {
    	random_list = {
    		10 = { set_character_flag = desc_variation_A_flag }
    		10 = { set_character_flag = desc_variation_B_flag }
    		10 = { set_character_flag = desc_variation_C_flag }
    	}
    	random_list = {
    		50 = {
    			set_character_flag = positive_reaction_to_scrying_flag
    		}
    		50 = {
    			set_character_flag = negative_reaction_to_scrying_flag
    		}
    	}
    }
    option = {
        name = EVTOPTA_regladeifa_201

		if = { limit = { has_character_flag = battle_focused_scrying_flag }
			add_character_modifier = {
				name = good_battle_omen
				duration = -1
			}
			
		}
		if = { limit = { has_character_flag = relationship_focused_scrying_flag }
			add_character_modifier = {
				name = good_relationship_omen
				duration = -1
			}
		}
		if = { limit = { has_character_flag = power_hungry_scrying_flag }
			add_character_modifier = {
				name = good_power_omen
				duration = -1
			}
		}

		trigger = {
			has_character_flag = positive_reaction_to_scrying_flag
		}
    }
    option = {
        name = EVTOPTB_regladeifa_201

		if = { limit = { has_character_flag = battle_focused_scrying_flag }
			add_character_modifier = {
				name = bad_battle_omen
				duration = -1
			}
		}
		if = { limit = { has_character_flag = relationship_focused_scrying_flag }
			add_character_modifier = {
				name = bad_relationship_omen
				duration = -1
			}
		}
		if = { limit = { has_character_flag = power_hungry_scrying_flag }
			add_character_modifier = {
				name = bad_power_omen
				duration = -1
			}
		}

		trigger = {
			has_character_flag = negative_reaction_to_scrying_flag
		}
    }
    after = {
    	hidden_effect = {
			random_list = { # For sending fallbacks, in case nothing else triggers from the omen-modifiers during the next few years. these don't need special events so fuck it i guess whatever
				10 = {
					character_event = { id = MNM.1225 days = 1500 random = 300 }
				}
				10 = {
					character_event = { id = MNM.1226 days = 1500 random = 300 }
				}
				10 = {
					character_event = { id = MNM.1227 days = 1500 random = 300 }
				}
			}
			remove_character_modifier = scrying_cooldown
		}
    	clr_character_flag = desc_variation_A_flag
		clr_character_flag = desc_variation_B_flag
		clr_character_flag = desc_variation_C_flag
		clr_character_flag = battle_focused_scrying_flag
		clr_character_flag = relationship_focused_scrying_flag
		clr_character_flag = power_hungry_scrying_flag
    }
}

character_event = {
    id = regladeifa.300
    desc = EVTDESC_regladeifa_300
    picture = GFX_evt_capoeira
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes

	option = {
		name = EVTOPTA_regladeifa_300
		custom_tooltip = { text = EVTOPTA_regladeifa_300_tt }
	}
	
	after = {
		if = {
			limit = {
				combat_rating = 30
			}
			set_character_flag = learning_tire_machet_quick
			character_event = { id = regladeifa.301 days = 3 } #pick it up incredibly quickly
		}
		if = {
			limit = {
				combat_rating = 20
				NOT = { combat_rating = 30 }
			}
			set_character_flag = learning_tire_machet_normal
			character_event = { id = regladeifa.302 days = 3 } #notification of progress
			character_event = { id = regladeifa.301 days = 7 } #pick it up in a normal amount of time
		}
		if = {
			limit = {
				combat_rating = 10
				NOT = { combat_rating = 20 }
			}
			set_character_flag = learning_tire_machet_extended
			character_event = { id = regladeifa.302 days = 3 } #notification of progress
			character_event = { id = regladeifa.301 days = 10 } #pick it up in an extended amount of time
		}
		if = {
			limit = {
				NOT = { combat_rating = 10 }
			}
			set_character_flag = learning_tire_machet_very_extended
			character_event = { id = regladeifa.302 days = 3 } #notification of progress
			character_event = { id = regladeifa.301 days = 14 } #have to learn everything from scratch...
		}
	}
}

character_event = { #Picking up the trait itself
    id = regladeifa.301
    desc = {
		trigger = { has_character_flag = learning_tire_machet_quick }
		text = EVTDESCA_regladeifa_301
	}
	desc = {
		trigger = { has_character_flag = learning_tire_machet_normal }
		text = EVTDESCB_regladeifa_301
	}
	desc = {
		trigger = { has_character_flag = learning_tire_machet_extended }
		text = EVTDESCC_regladeifa_301
	}
	desc = {
		trigger = { has_character_flag = learning_tire_machet_very_extended }
		text = EVTDESCD_regladeifa_301
	}
    picture = GFX_evt_capoeira
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes

	option = {
		name = EVTOPTA_regladeifa_301
		add_trait = tire_machet
		if = {
			limit = {
				has_character_flag = learning_tire_machet_quick
			}
			prestige = 50
		}
		if = {
			limit = {
				has_character_flag = learning_tire_machet_normal
			}
			prestige = 25
		}
		if = {
			limit = {
				has_character_flag = learning_tire_machet_extended
			}
			prestige = 15
		}
		if = {
			limit = {
				has_character_flag = learning_tire_machet_very_extended
			}
			prestige = 10
		}
	}
	
	after = {
		clr_character_flag = learning_tire_machet_quick
		clr_character_flag = learning_tire_machet_normal
		clr_character_flag = learning_tire_machet_extended
		clr_character_flag = learning_tire_machet_very_extended
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Delay notification event
    id = regladeifa.302
    desc = {
		trigger = { has_character_flag = learning_tire_machet_normal }
		text = EVTDESCA_regladeifa_302
	}
	desc = {
		trigger = { has_character_flag = learning_tire_machet_extended }
		text = EVTDESCB_regladeifa_302
	}
	desc = {
		trigger = { has_character_flag = learning_tire_machet_very_extended }
		text = EVTDESCC_regladeifa_302
	}
    picture = GFX_evt_capoeira
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes

	option = {
		name = {
			trigger = { has_character_flag = learning_tire_machet_normal }
			text = EVTOPTA_regladeifa_302
		}
		name = {
			trigger = { has_character_flag = learning_tire_machet_extended }
			text = EVTOPTB_regladeifa_302
		}
		name = {
			trigger = { has_character_flag = learning_tire_machet_very_extended }
			text = EVTOPTC_regladeifa_302
		}
		custom_tooltip = { text = EVTOPTA_regladeifa_302_tt }
	}
}

character_event = { #Emergency flag clear event
    id = regladeifa.303
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = learning_tire_machet_quick
		clr_character_flag = learning_tire_machet_normal
		clr_character_flag = learning_tire_machet_extended
		clr_character_flag = learning_tire_machet_very_extended
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating a fetish - for Santeria
    id = regladeifa.400
    desc = EVTDESC_regladeifa_400
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes

	option = { #Create an iron hammer to represent Ogún
		name = EVTOPTA_regladeifa_400
		custom_tooltip = { text = EVTOPTA_regladeifa_400_tt }
		hidden_tooltip = { set_character_flag = creating_iron_hammer_ogun }
	}
	
	option = { #Create a ceremonial iron bow and arrow to represent Ochosi
		name = EVTOPTB_regladeifa_400
		custom_tooltip = { text = EVTOPTB_regladeifa_400_tt }
		hidden_tooltip = { set_character_flag = creating_iron_bow_ochosi }
	}
	
	option = { #Create a ceremonial iron chalice and arrow to represent Osún
		name = EVTOPTC_regladeifa_400
		custom_tooltip = { text = EVTOPTC_regladeifa_400_tt }
		hidden_tooltip = { set_character_flag = creating_iron_chalice_osun }
	}
	
	after = {
		if = {
			limit = {
				has_character_flag = creating_iron_hammer_ogun
			}
			character_event = { id = regladeifa.405 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.408 days = 30 } #finished artifact
		}
		if = {
			limit = {
				has_character_flag = creating_iron_bow_ochosi
			}
			character_event = { id = regladeifa.406 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.409 days = 30 } #finished artifact
		}
		if = {
			limit = {
				has_character_flag = creating_iron_chalice_osun
			}
			character_event = { id = regladeifa.407 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.410 days = 30 } #finished artifact
		}
	}
}

character_event = { #Creating a fetish - for Candomble
    id = regladeifa.401
    desc = EVTDESC_regladeifa_400
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes

	option = { #Create an above Nkisi
		name = EVTOPTA_regladeifa_401
		custom_tooltip = { text = EVTOPTA_regladeifa_401_tt }
		hidden_tooltip = { set_character_flag = creating_above_nkisi }
	}
	
	option = { #Create a below Nkisi
		name = EVTOPTB_regladeifa_401
		custom_tooltip = { text = EVTOPTB_regladeifa_401_tt }
		hidden_tooltip = { set_character_flag = creating_below_nkisi }
	}
	
	option = { #Create a Nkondi
		name = EVTOPTC_regladeifa_401
		custom_tooltip = { text = EVTOPTC_regladeifa_401_tt }
		hidden_tooltip = { set_character_flag = creating_nkondi }
	}
	
	after = {
		if = {
			limit = {
				has_character_flag = creating_above_nkisi
			}
			character_event = { id = regladeifa.411 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.414 days = 30 } #finished artifact
		}
		if = {
			limit = {
				has_character_flag = creating_below_nkisi
			}
			character_event = { id = regladeifa.412 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.415 days = 30 } #finished artifact
		}
		if = {
			limit = {
				has_character_flag = creating_nkondi
			}
			character_event = { id = regladeifa.413 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.416 days = 30 } #finished artifact
		}
	}
}

character_event = { #Creating a fetish - for Voodoo
    id = regladeifa.402
    desc = EVTDESC_regladeifa_400
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes

	option = { #Create a gris-gris amulet
		name = EVTOPTA_regladeifa_402
		custom_tooltip = { text = EVTOPTA_regladeifa_402_tt }
		hidden_tooltip = { set_character_flag = creating_gris_gris }
	}
	
	option = { #Create a drapo servis (important religious icon)
		name = EVTOPTB_regladeifa_402
		custom_tooltip = { text = EVTOPTB_regladeifa_402_tt }
		hidden_tooltip = { set_character_flag = creating_drapo_servis }
	}
	
	option = { #Create "Voodoo doll" (actually a representation of a particular loa)
		name = EVTOPTC_regladeifa_402
		custom_tooltip = { text = EVTOPTC_regladeifa_402_tt }
		hidden_tooltip = { set_character_flag = creating_voodoo_doll }
	}
	
	after = {
		if = {
			limit = {
				has_character_flag = creating_gris_gris
			}
			character_event = { id = regladeifa.417 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.420 days = 30 } #finished artifact
		}
		if = {
			limit = {
				has_character_flag = creating_drapo_servis
			}
			character_event = { id = regladeifa.418 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.421 days = 30 } #finished artifact
		}
		if = {
			limit = {
				has_character_flag = creating_voodoo_doll
			}
			character_event = { id = regladeifa.419 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.422 days = 30 } #finished artifact
		}
	}
}

character_event = { #Creating a fetish - for Rastafarian. (Wait, how would this even work?)
    id = regladeifa.403
    desc = EVTDESC_regladeifa_400
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes

	option = { #Create a grand chalice (the greatest bong of all time)
		name = EVTOPTA_regladeifa_403
		custom_tooltip = { text = EVTOPTA_regladeifa_403_tt }
		hidden_tooltip = { set_character_flag = creating_grand_chalice }
	}
	
	option = { #Create an elaborate Dashiki
		name = EVTOPTB_regladeifa_403
		custom_tooltip = { text = EVTOPTB_regladeifa_403_tt }
		hidden_tooltip = { set_character_flag = creating_dashiki }
	}
	
	option = { #Create Steel Drum (making these would be way harder after an apocalypse)
		name = EVTOPTC_regladeifa_403
		custom_tooltip = { text = EVTOPTC_regladeifa_403_tt }
		hidden_tooltip = { set_character_flag = creating_steel_drum }
	}
	
	after = {
		if = {
			limit = {
				has_character_flag = creating_grand_chalice
			}
			character_event = { id = regladeifa.423 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.426 days = 30 } #finished artifact
		}
		if = {
			limit = {
				has_character_flag = creating_dashiki
			}
			character_event = { id = regladeifa.424 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.427 days = 30 } #finished artifact
		}
		if = {
			limit = {
				has_character_flag = creating_steel_drum
			}
			character_event = { id = regladeifa.425 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.428 days = 30 } #finished artifact
		}
	}
}

character_event = { #Creating a fetish - for Tres Potencias
    id = regladeifa.404
    desc = EVTDESC_regladeifa_400
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes

	option = { #Create a statue of Maria Lionza (yeah I'm getting lazy with these ones, it's late and I'm tired. sue me.)
		name = EVTOPTA_regladeifa_404
		custom_tooltip = { text = EVTOPTA_regladeifa_404_tt }
		hidden_tooltip = { set_character_flag = creating_maria_lionza_statue }
	}
	
	option = { #Create a statue of Guaicaipuro
		name = EVTOPTB_regladeifa_404
		custom_tooltip = { text = EVTOPTB_regladeifa_404_tt }
		hidden_tooltip = { set_character_flag = creating_guaicaipuro_statue }
	}
	
	option = { #Create a statue of Felipe (can't use his actual real name here because cultural differences)
		name = EVTOPTC_regladeifa_404
		custom_tooltip = { text = EVTOPTC_regladeifa_404_tt }
		hidden_tooltip = { set_character_flag = creating_felipe_statue }
	}
	
	after = {
		if = {
			limit = {
				has_character_flag = creating_maria_lionza_statue
			}
			character_event = { id = regladeifa.429 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.432 days = 30 } #finished artifact
		}
		if = {
			limit = {
				has_character_flag = creating_guaicaipuro_statue
			}
			character_event = { id = regladeifa.430 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.433 days = 30 } #finished artifact
		}
		if = {
			limit = {
				has_character_flag = creating_felipe_statue
			}
			character_event = { id = regladeifa.431 days = 15 } #make decision about the artifact
			character_event = { id = regladeifa.434 days = 30 } #finished artifact
		}
	}
}

character_event = { #Creating iron hammer of Ogun - old world or new steel?
    id = regladeifa.405
    desc = EVTDESC_regladeifa_405
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_iron_hammer_ogun
	}

	option = { #Use old world metal (more prestige, less piety)
		name = EVTOPTA_regladeifa_405
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_405_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Use new metal (less prestige, more piety)
		name = EVTOPTB_regladeifa_405
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_405_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating iron bow of Ochosi - old world or new steel?
    id = regladeifa.406
    desc = EVTDESC_regladeifa_406
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_iron_bow_ochosi
	}

	option = { #Use old world metal (more prestige, less piety)
		name = EVTOPTA_regladeifa_406
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_406_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Use new metal (less prestige, more piety)
		name = EVTOPTB_regladeifa_406
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_406_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating iron chalice of Osun - old world or new steel?
    id = regladeifa.407
    desc = EVTDESC_regladeifa_407
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_iron_chalice_osun
	}

	option = { #Use old world metal (more prestige, less piety)
		name = EVTOPTA_regladeifa_407
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_407_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Use new metal (less prestige, more piety)
		name = EVTOPTB_regladeifa_407
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_407_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating iron hammer of Ogun - finished!
    id = regladeifa.408
    desc = EVTDESC_regladeifa_408
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_iron_hammer_ogun
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = iron_hammer_ogun_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = iron_hammer_ogun_lq
		}
	}
	
	after = {
		clr_character_flag = creating_iron_hammer_ogun
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating iron bow of Ochosi - finished!
    id = regladeifa.409
    desc = EVTDESC_regladeifa_409
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_iron_bow_ochosi
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = iron_bow_ochosi_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = iron_bow_ochosi_lq
		}
	}
	
	after = {
		clr_character_flag = creating_iron_bow_ochosi
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating iron chalice of Osun - finished!
    id = regladeifa.410
    desc = EVTDESC_regladeifa_410
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_iron_chalice_osun
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = iron_chalice_osun_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = iron_chalice_osun_lq
		}
	}
	
	after = {
		clr_character_flag = creating_iron_chalice_osun
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating above Nkisi - which materials should be used?
    id = regladeifa.411
    desc = EVTDESC_regladeifa_411
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_above_nkisi
	}

	option = { #Use animal parts (more potent, but more expensive)
		name = EVTOPTA_regladeifa_411
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_411_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Use minerals and vegetables (less potent, but less expensive)
		name = EVTOPTB_regladeifa_411
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_411_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating below Nkisi - which materials should be used?
    id = regladeifa.412
    desc = EVTDESC_regladeifa_412
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_below_nkisi
	}

	option = { #Use animal parts (more potent, but more expensive)
		name = EVTOPTA_regladeifa_411
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_411_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Use minerals and vegetables (less potent, but less expensive)
		name = EVTOPTB_regladeifa_411
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_411_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating Nkondi - which materials should be used?
    id = regladeifa.413
    desc = EVTDESC_regladeifa_413
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_nkondi
	}

	option = { #Use animal parts (more potent, but more expensive)
		name = EVTOPTA_regladeifa_411
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_411_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Use minerals and vegetables (less potent, but less expensive)
		name = EVTOPTB_regladeifa_411
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_411_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating above Nkisi - finished!
    id = regladeifa.414
    desc = EVTDESC_regladeifa_414
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_above_nkisi
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = above_nkisi_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = above_nkisi_lq
		}
	}
	
	after = {
		clr_character_flag = creating_above_nkisi
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating below Nkisi - finished!
    id = regladeifa.415
    desc = EVTDESC_regladeifa_415
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_below_nkisi
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = below_nkisi_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = below_nkisi_lq
		}
	}
	
	after = {
		clr_character_flag = creating_below_nkisi
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating Nkondi - finished!
    id = regladeifa.416
    desc = EVTDESC_regladeifa_416
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_nkondi
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = nkondi_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = nkondi_lq
		}
	}
	
	after = {
		clr_character_flag = creating_nkondi
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating Gris-Gris - protect or attack? (reflects the differing views of gris-gris)
    id = regladeifa.417
    desc = EVTDESC_regladeifa_417
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_gris_gris
	}

	option = { #Offensive (more expensive, strikes fear in others)
		name = EVTOPTA_regladeifa_417
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_417_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Defenseive (less expensive, protects the user)
		name = EVTOPTB_regladeifa_417
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_417_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish } #using the same flags for simplicity's sake, do not take as a value judgement
	}
}

character_event = { #Creating Drapo Servis - more or less elaborate?
    id = regladeifa.418
    desc = EVTDESC_regladeifa_418
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_drapo_servis
	}

	option = { #More elaborate (more expensive, more prestige)
		name = EVTOPTA_regladeifa_418
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_418_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Less elaborate (more expensive, less prestige but slightly more piety)
		name = EVTOPTB_regladeifa_418
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_418_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating "Voodoo Doll" - clay or ragdoll?
    id = regladeifa.419
    desc = EVTDESC_regladeifa_419
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_voodoo_doll
	}

	option = { #Clay (more expensive, just kind of better)
		name = EVTOPTA_regladeifa_419
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_419_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Ragdoll (less expensive, just kind of worse)
		name = EVTOPTB_regladeifa_419
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_419_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating Gris-Gris - finished!
    id = regladeifa.420
    desc = EVTDESC_regladeifa_420
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_gris_gris
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = gris_gris_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = gris_gris_lq
		}
	}
	
	after = {
		clr_character_flag = creating_gris_gris
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating Drapo Servis - finished!
    id = regladeifa.421
    desc = EVTDESC_regladeifa_421
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_drapo_servis
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = drapo_servis_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = drapo_servis_lq
		}
	}
	
	after = {
		clr_character_flag = creating_drapo_servis
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating "Voodoo Doll" - finished!
    id = regladeifa.422
    desc = EVTDESC_regladeifa_422
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_voodoo_doll
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = voodoo_doll_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = voodoo_doll_lq
		}
	}
	
	after = {
		clr_character_flag = creating_voodoo_doll
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating Grand Chalice - which material should be used?
    id = regladeifa.423
    desc = EVTDESC_regladeifa_423
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_grand_chalice
	}

	option = { #Ivory (more expensive, just kind of better)
		name = EVTOPTA_regladeifa_423
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_423_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Wood (less expensive, just kind of worse)
		name = EVTOPTB_regladeifa_423
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_423_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating Dashiki - which color?
    id = regladeifa.424
    desc = EVTDESC_regladeifa_424
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_dashiki
	}

	option = { #Purple and Lavender (more expensive, more prestige)
		name = EVTOPTA_regladeifa_424
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_424_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Blue (less expensive, more piety)
		name = EVTOPTB_regladeifa_424
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_424_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating Steel Drum - old world or new world steel?
    id = regladeifa.425
    desc = EVTDESC_regladeifa_425
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_steel_drum
	}

	option = { #Old World Steel (more expensive, more prestige)
		name = EVTOPTA_regladeifa_425
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_425_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #New Steel (less expensive, more piety)
		name = EVTOPTB_regladeifa_425
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_425_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating Grand Chalice - finished!
    id = regladeifa.426
    desc = EVTDESC_regladeifa_426
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_grand_chalice
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = grand_chalice_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = grand_chalice_lq
		}
	}
	
	after = {
		clr_character_flag = creating_grand_chalice
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating Dashiki - finished!
    id = regladeifa.427
    desc = EVTDESC_regladeifa_427
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_dashiki
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = dashiki_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = dashiki_lq
		}
	}
	
	after = {
		clr_character_flag = creating_dashiki
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating Steel Drum - finished!
    id = regladeifa.428
    desc = EVTDESC_regladeifa_428
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_steel_drum
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = steel_drum_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = steel_drum_lq
		}
	}
	
	after = {
		clr_character_flag = creating_steel_drum
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating Maria Lionza statue - marble or stone?
    id = regladeifa.429
    desc = EVTDESC_regladeifa_429
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_maria_lionza_statue
	}

	option = { #Marble (more expensive, more prestige)
		name = EVTOPTA_regladeifa_429
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_429_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Stone (less expensive, more piety)
		name = EVTOPTB_regladeifa_429
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_429_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating Guaicaipuro statue - marble or stone?
    id = regladeifa.430
    desc = EVTDESC_regladeifa_429
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_guaicaipuro_statue
	}

	option = { #Marble (more expensive, more prestige)
		name = EVTOPTA_regladeifa_429
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_429_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Stone (less expensive, more piety)
		name = EVTOPTB_regladeifa_429
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_429_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating Felipe statue - marble or stone?
    id = regladeifa.431
    desc = EVTDESC_regladeifa_429
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_felipe_statue
	}

	option = { #Marble (more expensive, more prestige)
		name = EVTOPTA_regladeifa_429
		scaled_wealth = -0.25
		custom_tooltip = { text = EVTOPTA_regladeifa_429_tt }
		hidden_tooltip = { set_character_flag = high_quality_fetish }
	}
	
	option = { #Stone (less expensive, more piety)
		name = EVTOPTB_regladeifa_429
		scaled_wealth = -0.15
		custom_tooltip = { text = EVTOPTB_regladeifa_429_tt }
		hidden_tooltip = { set_character_flag = low_quality_fetish }
	}
}

character_event = { #Creating Maria Lionza Statue - finished!
    id = regladeifa.432
    desc = EVTDESC_regladeifa_432
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_maria_lionza_statue
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = maria_lionza_statue_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = maria_lionza_statue_lq
		}
	}
	
	after = {
		clr_character_flag = creating_maria_lionza_statue
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating Guaicaipuro Statue - finished!
    id = regladeifa.433
    desc = EVTDESC_regladeifa_433
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_guaicaipuro_statue
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = guaicaipuro_statue_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = guaicaipuro_statue_lq
		}
	}
	
	after = {
		clr_character_flag = creating_guaicaipuro_statue
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Creating Felipe Statue - finished!
    id = regladeifa.434
    desc = EVTDESC_regladeifa_434
    picture = GFX_evt_west_african_ruler
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
	
	trigger = {
		has_character_flag = creating_felipe_statue
	}

	option = { #Finished artifact!
		name = EVTOPTA_regladeifa_408
		if = {
			limit = {
				has_character_flag = high_quality_fetish
			}
			add_artifact = felipe_statue_hq
		}
		if = {
			limit = {
				has_character_flag = low_quality_fetish
			}
			add_artifact = felipe_statue_lq
		}
	}
	
	after = {
		clr_character_flag = creating_felipe_statue
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

character_event = { #Cleanup event
    id = regladeifa.440
    hide_window = yes
    is_triggered_only = yes
	
	immediate = {
		clr_character_flag = creating_iron_hammer_ogun
		clr_character_flag = creating_iron_bow_ochosi
		clr_character_flag = creating_iron_chalice_osun
		clr_character_flag = creating_above_nkisi
		clr_character_flag = creating_below_nkisi
		clr_character_flag = creating_nkondi
		clr_character_flag = creating_gris_gris
		clr_character_flag = creating_drapo_servis
		clr_character_flag = creating_voodoo_doll
		clr_character_flag = creating_grand_chalice
		clr_character_flag = creating_dashiki
		clr_character_flag = creating_steel_drum
		clr_character_flag = creating_maria_lionza_statue
		clr_character_flag = creating_guaicaipuro_statue
		clr_character_flag = creating_felipe_statue
		clr_character_flag = high_quality_fetish
		clr_character_flag = low_quality_fetish
		clr_character_flag = do_not_disturb
	}
}

#POWER: Invite monk or nun 
character_event = {
    id = regladeifa.441
    hide_window = yes

    is_triggered_only = yes

    trigger = { society_member_of = regla_de_ifa }

	immediate = {
		clr_character_flag = ascetic_arriving
		random_list = {
			#Nun
			60 = {
				modifier = {
					factor = 0.2
					NOR = {			
						primary_title = {
							has_law = status_of_women_4
						}
						has_game_rule = {
							name = gender
							value = all
						}
					}
				}
				random_list = {
					33 = {
						create_character = {
							random_traits = yes
							dynasty = none
							religion = ROOT
							female = yes
							age = 19
							health = 6
						}
						new_character = { save_event_target_as = ascetic }
					}
					33 = {
						create_character = {
							random_traits = yes
							dynasty = none
							religion = ROOT
							female = yes
							age = 37
							health = 6
						}
						new_character = { save_event_target_as = ascetic }
					}
					33 = {
						create_character = {
							random_traits = yes
							dynasty = none
							religion = ROOT
							female = yes
							age = 68
							health = 6
						}
						new_character = { save_event_target_as = ascetic }
					}
				}
			}
			#Monk
			40 = {
				random_list = {
					33 = {
						create_character = {
							random_traits = yes
							dynasty = none
							religion = ROOT
							female = no
							age = 22
							health = 6
						}
						new_character = { save_event_target_as = ascetic }
					}
					33 = {
						create_character = {
							random_traits = yes
							dynasty = none
							religion = ROOT
							female = no
							age = 42
							health = 6
						}
						new_character = { save_event_target_as = ascetic }
					}
					33 = {
						create_character = {
							random_traits = yes
							dynasty = none
							religion = ROOT
							female = no
							age = 65
							health = 6
						}
						new_character = { save_event_target_as = ascetic }
					}
				}
			}
		}

		event_target:ascetic = {
			join_prev_monastic_order_society = yes
		
			#Set correct education
			remove_education_effect = yes
			random_list = {
				60 = { add_trait = scholarly_theologian }
				40 = { add_trait = mastermind_theologian }
			}

			#Up  learning
			random_list = {
				25 = { change_learning = 3 }
				25 = { change_learning = 4 }
				25 = { change_learning = 5 }
				25 = { change_learning = 6 }
			}

			#Set some interesting traits 

			#Nun/monk traits
			#add_ascetic_trait_effect = yes
			add_trait = celibate
			add_trait = zealous
			remove_trait = cynical

			#Nice congential
			random_list = {
				10 = {
					add_trait = fair
					remove_trait = ugly
				}
				5 = {
					add_trait = genius
					remove_trait = imbecile
					remove_trait = quick
					remove_trait = slow
				}
				10 = {
					add_trait = quick
					remove_trait = imbecile
					remove_trait = genius
					remove_trait = slow
				}
				5 = {
					add_trait = strong
					remove_trait = weak
				}
				100 = { }
			}

			#Lifestyle
			remove_lifestyle_trait_effect = yes
			random_list = {
				15 = { add_trait = scholar }
				15 = { add_trait = theologian }
				10 = { add_trait = mystic }
			}

			#Virtues
			remove_trait = lustful
			remove_trait = wroth
			remove_trait = gluttonous
			remove_trait = cruel
			random = {
				chance = 20
				add_trait = chaste
			}
			random = {
				chance = 20
				remove_trait = envious
				add_trait = kind
			}
			random = {
				chance = 20
				remove_trait = greedy
				add_trait = charitable
			}
			random = {
				chance = 10
				add_trait = temperate
				lose_weight_small_effect = yes
				weight_trait_check_effect = yes
			}
			random = {
				chance = 5
				add_trait = patient
				remove_trait = wroth
			}
			random = {
				chance = 10
				add_trait = humble
				remove_trait = proud
			}
			random = {
				chance = 5
				remove_trait = slothful
				remove_trait = diligent
			}

			#Misc traits
			remove_trait = deceitful
			remove_trait = arbitrary
			remove_trait = cynical
			random = {
				chance = 10
				add_trait = honest
			}
			random = {
				chance = 10
				add_trait = just
			}
			random = {
				chance = 15
				add_trait = erudite
			}
			random = {
				chance = 10
				add_trait = content
				remove_trait = ambitious
			}
			random = {
				chance = 15
				add_trait = homosexual
			}
			if = {
				limit = { has_dlc = "Reapers" }
				random = {
					chance = 33
					add_trait = physician
				}
			}

			#Nicknames
			random_list = {
				10 = {
					give_nickname = nick_the_holy
				}
				10 = { 
					modifier = {
						factor = 0
						NAND = {
							trait = kind
							trait = charitable
							trait = humble
						}
					}
					give_nickname = nick_the_saint
				}
				10 = { 
					modifier = {
						factor = 0
						NAND = {
							trait = kind
							trait = charitable
						}
					}
					give_nickname = nick_the_kind
				}
				10 = { 
					modifier = {
						factor = 0
						NAND = {
							trait = charitable
							trait = just
						}
					}
					give_nickname = nick_the_good
				}
				10 = { 
					modifier = {
						factor = 0
						OR = {
							is_smart_trigger = yes
							trait = just
							trait = patient
							trait = scholar
						}
					}
					give_nickname = nick_the_wise
				}
				10 = { 
				50 = { }
			}
			character_event = { id = MNM.4433 }	
		}
	}
}

character_event = {
	id = regladeifa.500
	hide_window = yes

	is_triggered_only = yes
	is_in_society = yes
	only_capable = yes

	trigger = {
		society_member_of = regla_de_ifa
		NOT = { society_rank == 4 }
		has_any_quest = no
		NOT = { is_inaccessible_trigger = yes }
		NOT = { has_character_modifier = quest_cooldown_timer }
	}

	immediate = {
		random_society_member = {
			limit = {
				society_rank == 4
				same_society_as = ROOT
			}
			save_event_target_as = monastic_leader
		}

		random_list = {
			10 = { 
				modifier = { factor = 0 is_playable = no }
				set_character_flag = regla_de_ifa_hold_feast
			}
			10 = {
				modifier = { factor = 0 NOT = { has_dlc ="Way of Life" } }
				modifier = { factor = 0 has_focus = focus_theology }
				modifier = { factor = 0 is_playable = no } # Only playable characters get focuses
				set_character_flag = monastic_orders_mission_theology
			}
			10 = {
				set_character_flag = regla_de_ifa_receive_ewo
			}
			10 = {
				trigger = {
					is_playable = yes
					any_demesne_province = {
						num_of_empty_holdings = 1			
					}
				}
				modifier = {
					factor = 0 is_tribal = yes
				}
				modifier = {
					factor = 0 is_nomadic = yes
				}
				modifier = { factor = 0 is_playable = no }
				set_character_flag = monastic_orders_mission_temple
			}
			50 = { # AI bypasses missions at times
				modifier = {
					factor = 0
					ai = no
				}
				random_list = {
					70 = {
						modifier = {
							factor = 0.9
							society_influence >= 30
						}
						modifier = {
							factor = 0.9
							society_influence >= 40
						}
						modifier = {
							factor = 0.8
							society_influence >= 50
						}
						modifier = {
							factor = 0.7
							society_influence >= 70
						}
						modifier = {
							factor = 0.6
							society_influence >= 80
						}
						modifier = {
							factor = 0.5
							society_influence >= 90
						}
						add_mission_succeed_influence_effect = yes
						monastic_order_purity_effect = yes
					}
					30 = {
						add_mission_fail_influence_effect = yes
					}
				}
			}
			85 = {
				modifier = {
					factor = 0
					ai = no
				}
				#Do nothing for AI
			}
		}
		event_target:monastic_leader = { character_event = { id = regladeifa.502 days = 7 random = 7 } }
	}
}

#Tombola Ping Event
character_event = {
	id = regladeifa.502
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		FROM = {
			trigger_switch = { #these are all out of order cause i did these in order of easiest to code
				on_trigger = has_character_flag
				regla_de_ifa_hold_feast = 						{ clr_character_flag = regla_de_ifa_hold_feast society_quest_event = { id = regladeifa.503 } }
				monastic_orders_mission_theology = 				{ clr_character_flag = monastic_orders_mission_theology society_quest_event = { id = MNM.4015 } }
				regla_de_ifa_receive_ewo = 						{ clr_character_flag = regla_de_ifa_receive_ewo society_quest_event = { id = regladeifa.506 } }
				monastic_orders_mission_temple = 				{ clr_character_flag = monastic_orders_mission_temple society_quest_event = { id = MNM.4023 } }
			}
		}
	}
}

#MISSION: Hold a feast
society_quest_event = {
	id = regladeifa.503
	desc = EVTDESC_regladeifa_503
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = ACCEPT
		set_quest = quest_regla_de_ifa_hold_feast
	}
	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

#Leader Ping for charity
character_event = {
	id = regladeifa.504
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		FROM = {
			letter_event = {
				id = regladeifa.505
			}
		}
	}
}

letter_event = {
	id = regladeifa.505
	desc = EVTDESC_regladeifa_505
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	trigger = {
		society_member_of = regla_de_ifa
	}

	option = {
		name = EVTOPT_regladeifa_505

		wealth = -100
		if = {
			limit = { NOT = { has_quest = quest_regla_de_ifa_hold_feast } }
			add_society_currency_minor_effect = yes
		}
		
		if = {
			limit = { has_quest = quest_regla_de_ifa_hold_feast }
			clr_quest = quest_regla_de_ifa_hold_feast
			sound_effect = monastic_orders_donate_charity
			hidden_effect = { monastic_order_purity_effect = yes }
			add_society_currency_medium_effect = yes
		}

		if = {
			limit = { NOT = { trait = greedy } }
			random = {
				chance = 30
				add_trait = charitable
			}
		}
		if = {
			limit = { trait = greedy }
			random = {
				chance = 40
				remove_trait = greedy
			}
		}
	}
}

#MISSION: Receive Ewo
society_quest_event = {
	id = regladeifa.506
	desc = EVTDESC_regladeifa_506
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = ACCEPT
		set_quest = quest_regla_de_ifa_receive_ewo
	}
	option = {
		name = DECLINE
		custom_tooltip = { text = decline_quest_tooltip }

		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}

		ai_chance = { factor = 0 }
	}
}

character_event = { #Receive an ewo
	id = regladeifa.507
	desc = EVTDESC_regladeifa_507
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = regla_de_ifa
		has_character_flag = receiving_ewo
	}
	
	option = {
		name = EVTOPTA_regladeifa_507
		custom_tooltip = { text = TXT_EVTOPTA_regladeifa_507 }
	}
	
	after = {
		hidden_tooltip = {
			random_list = {
				20 = { #dietary restriction
					character_event = { id = regladeifa.508 days = 1 }
				}
				20 = { #alcohol restriction
					character_event = { id = regladeifa.509 days = 1 }
				}
				20 = { #additional dress restrictions
					character_event = { id = regladeifa.510 days = 1 }
				}
				20 = { #restriction on sex
					character_event = { id = regladeifa.511 days = 1 }
				}
				20 = { #restriction on leisure(???)
					character_event = { id = regladeifa.512 days = 1 }
				}
			}
		}
	}
}

character_event = { #Receive an ewo
	id = regladeifa.508
	desc = EVTDESC_regladeifa_508
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = regla_de_ifa
		has_character_flag = receiving_ewo
	}
	
	immediate = {
		clr_character_flag = receiving_ewo
	}
	
	option = {
		name = EVTOPTA_regladeifa_508
		piety = 150
		add_character_modifier = {
        	name = diet_ewo
        	years = 2
        }
	}
	
	after = {
		if = {
			limit = {
				has_quest = quest_regla_de_ifa_receive_ewo
			}
			random_society_member = {
				limit = {
					is_society_grandmaster = yes
					same_society_as = ROOT
				}
				character_event = { id = regladeifa.513 } #Mission success
			}
		}
	}
}

character_event = { #Receive an ewo
	id = regladeifa.509
	desc = EVTDESC_regladeifa_509
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = regla_de_ifa
		has_character_flag = receiving_ewo
	}
	
	immediate = {
		clr_character_flag = receiving_ewo
	}
	
	option = {
		name = EVTOPTA_regladeifa_508
		piety = 150
		add_character_modifier = {
        	name = alcohol_ewo
        	years = 2
        }
	}
	
	after = {
		if = {
			limit = {
				has_quest = quest_regla_de_ifa_receive_ewo
			}
			random_society_member = {
				limit = {
					is_society_grandmaster = yes
					same_society_as = ROOT
				}
				character_event = { id = regladeifa.513 } #Mission success
			}
		}
	}
}

character_event = { #Receive an ewo
	id = regladeifa.510
	desc = EVTDESC_regladeifa_510
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = regla_de_ifa
		has_character_flag = receiving_ewo
	}
	
	immediate = {
		clr_character_flag = receiving_ewo
	}
	
	option = {
		name = EVTOPTA_regladeifa_508
		piety = 150
		add_character_modifier = {
        	name = dress_ewo
        	years = 2
        }
	}
	
	after = {
		if = {
			limit = {
				has_quest = quest_regla_de_ifa_receive_ewo
			}
			random_society_member = {
				limit = {
					is_society_grandmaster = yes
					same_society_as = ROOT
				}
				character_event = { id = regladeifa.513 } #Mission success
			}
		}
	}
}

character_event = { #Receive an ewo
	id = regladeifa.511
	desc = EVTDESC_regladeifa_511
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = regla_de_ifa
		has_character_flag = receiving_ewo
	}
	
	immediate = {
		clr_character_flag = receiving_ewo
	}
	
	option = {
		name = EVTOPTA_regladeifa_508
		piety = 150
		add_character_modifier = {
        	name = sex_ewo
        	years = 2
        }
	}
	
	after = {
		if = {
			limit = {
				has_quest = quest_regla_de_ifa_receive_ewo
			}
			random_society_member = {
				limit = {
					is_society_grandmaster = yes
					same_society_as = ROOT
				}
				character_event = { id = regladeifa.513 } #Mission success
			}
		}
	}
}

character_event = { #Receive an ewo
	id = regladeifa.512
	desc = EVTDESC_regladeifa_512
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		society_member_of = regla_de_ifa
		has_character_flag = receiving_ewo
	}
	
	immediate = {
		clr_character_flag = receiving_ewo
	}
	
	option = {
		name = EVTOPTA_regladeifa_508
		piety = 150
		add_character_modifier = {
        	name = leisure_ewo
        	years = 2
        }
	}
	
	after = {
		if = {
			limit = {
				has_quest = quest_regla_de_ifa_receive_ewo
			}
			random_society_member = {
				limit = {
					is_society_grandmaster = yes
					same_society_as = ROOT
				}
				character_event = { id = regladeifa.513 } #Mission success
			}
		}
	}
}

#Grandmaster ping for ewo
character_event = {
	id = regladeifa.513
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		if = {
			FROM = { letter_event = { id = regladeifa.514 } }
		}
	}
}

#Ewo success
letter_event = {
	id = regladeifa.514
	border = GFX_event_letter_frame_religion
	desc = EVTDESC_regladeifa_514
	is_triggered_only = yes
	
	trigger = {
		society_member_of = regla_de_ifa
		has_quest = quest_regla_de_ifa_receive_ewo
	}

	option = {
		name = EVTOPTA_regladeifa_514
		clr_quest = quest_regla_de_ifa_receive_ewo
		sound_effect = monastic_orders_penance
		remove_character_modifier = doing_penance
		add_society_currency_medium_effect = yes
		hidden_effect = { 
			monastic_order_purity_effect = yes 
		}
	}
}

#Ewo character events
#Diet ewo makes you stressed
character_event = {
	id = regladeifa.515
	desc = EVTDESC_regladeifa_515
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_religion
	
	trigger = {
		has_character_modifier = diet_ewo
	}
	
	mean_time_to_happen = {
		years = 2
	}
	
	option = {
		name = EVTOPTA_regladeifa_515
		add_trait = stressed
	}
}

#Diet ewo removes gluttonous
character_event = {
	id = regladeifa.516
	desc = EVTDESC_regladeifa_516
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	trigger = {
		has_character_modifier = diet_ewo
		NOT = { trait = temperate }
	}
	
	mean_time_to_happen = {
		years = 2
	}
	
	option = {
		name = EVTOPTA_regladeifa_516
		piety = 50
		if = {
			limit = {
				trait = gluttonous
			}
			remove_trait = gluttonous
		}
		else_if = {
			limit = {
				NOT = { trait = temperate }
			}
			add_trait = temperate
		}
	}
}

#Alcohol ewo makes you stressed
character_event = {
	id = regladeifa.516
	desc = EVTDESC_regladeifa_516
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_religion
	
	trigger = {
		has_character_modifier = alcohol_ewo
	}
	
	mean_time_to_happen = {
		years = 2
	}
	
	option = {
		name = EVTOPTA_regladeifa_515
		add_trait = stressed
	}
}

#Alcohol ewo removes drunkard
character_event = {
	id = regladeifa.517
	desc = EVTDESC_regladeifa_517
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	trigger = {
		has_character_modifier = alcohol_ewo
		trait = drunkard
	}
	
	mean_time_to_happen = {
		years = 1
	}
	
	option = {
		name = EVTOPTA_regladeifa_516
		piety = 100
		remove_trait = drunkard
	}
}

#Dress ewo makes you stressed
character_event = {
	id = regladeifa.518
	desc = EVTDESC_regladeifa_518
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_religion
	
	trigger = {
		has_character_modifier = dress_ewo
	}
	
	mean_time_to_happen = {
		years = 2
	}
	
	option = {
		name = EVTOPTA_regladeifa_515
		add_trait = stressed
	}
}

#Dress ewo removes proud/envious
character_event = {
	id = regladeifa.519
	desc = EVTDESC_regladeifa_519
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	trigger = {
		has_character_modifier = dress_ewo
		NOT = {
			trait = humble
		}
	}
	
	mean_time_to_happen = {
		years = 2
	}
	
	option = {
		name = EVTOPTA_regladeifa_516
		piety = 50
		if = {
			limit = {
				trait = proud
				NOT = { trait = envious }
			}
			remove_trait = proud
		}
		else_if = {
			limit = {
				trait = envious
				NOT = { trait = proud }
			}
			remove_trait = envious
		}
		else_if = {
			limit = {
				trait = envious
				trait = proud
			}
			remove_trait = envious
			remove_trait = proud
		}
		else_if = {
			limit = {
				NOR = {
					trait = envious
					trait = proud
				}
			}
			add_trait = humble
		}
	}
}

#Sex ewo makes you stressed
character_event = {
	id = regladeifa.520
	desc = EVTDESC_regladeifa_520
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_religion
	
	trigger = {
		has_character_modifier = sex_ewo
	}
	
	mean_time_to_happen = {
		years = 2
	}
	
	option = {
		name = EVTOPTA_regladeifa_515
		add_trait = stressed
	}
}

#Sex ewo removes lustful
character_event = {
	id = regladeifa.521
	desc = EVTDESC_regladeifa_521
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	trigger = {
		has_character_modifier = sex_ewo
		NOR = {
			trait = chaste
			trait = celibate
		}
	}
	
	mean_time_to_happen = {
		years = 2
	}
	
	option = {
		name = EVTOPTA_regladeifa_516
		piety = 50
		if = {
			limit = {
				trait = lustful
			}
			remove_trait = lustful
		}
		else_if = {
			limit = {
				NOT = { trait = lustful }
			}
			add_trait = chaste
		}
	}
}

#Leisure ewo makes you stressed
character_event = {
	id = regladeifa.522
	desc = EVTDESC_regladeifa_522
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_religion
	
	trigger = {
		has_character_modifier = leisure_ewo
	}
	
	mean_time_to_happen = {
		years = 2
	}
	
	option = {
		name = EVTOPTA_regladeifa_515
		add_trait = stressed
	}
}

#Leisure ewo removes slothful
character_event = {
	id = regladeifa.523
	desc = EVTDESC_regladeifa_523
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	trigger = {
		has_character_modifier = leisure_ewo
		NOT = {
			trait = diligent
		}
	}
	
	mean_time_to_happen = {
		years = 2
	}
	
	option = {
		name = EVTOPTA_regladeifa_516
		piety = 50
		if = {
			limit = {
				trait = slothful
			}
			remove_trait = slothful
		}
		else_if = {
			limit = {
				NOT = { trait = slothful }
			}
			add_trait = diligent
		}
	}
}