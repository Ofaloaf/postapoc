# The choice is made based on a weighted random, but the first factor that evaluates to >= 100 will be automatically chosen
# Two passes are done when choosing properties; first from lowest to highest, then from highest to lowest. Be aware of this if you reference other properties, as the old properties will still be active in the first pass
# hide_layers is interpreted from bottom to top. Hidden layers won't hide other layers, but if a lower layer hides a higher layer, the higher layer won't be rechecked, so it might still be hiding other layers despite being hidden itself

# p0 background
0 = {
	0 = { # castle 1
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOR = {
				religion_group = christian
				religion_group = latter_day_saints
				religion_group = cult_of_saints
			}
		}
		modifier = {
			factor = 0
			is_nomadic = yes
		}
	}

	1 = { #throne room
		factor = 15
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
		}
		modifier = {
			factor = 5
			OR = { 
				real_tier = emperor 
				spouse = { real_tier = emperor }
			}
		}
		modifier = {
			factor = 0
			OR = {
				is_nomadic = yes
				is_tribal = yes
			}
		}
	}

	2 = { # dungeon
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			prisoner = no
			NOT = { death_reason = death_dungeon }
		}
	}

	3 = { # forest
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			location = { 
				OR = { 
					region = world_southwest
					region = world_rockies
					region = world_great_plains
				} 
			}
		}
		modifier = {
			factor = 0.01
			is_nomadic = yes
		}
	#	modifier = {
	#		factor = 10
	#		is_tribal = yes
	#	}
	}

	4 = { # bed
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			is_alive = yes
			NOT = { is_incapable = yes }
			NOT = { trait = infirm }
		}
		modifier = {
			factor = 0.001
			OR = {
				death_sacrificed_trigger = yes
				death_reason = death_battle
				death_execution_trigger = yes
				death_reason = death_dungeon
			}
		}
		modifier = {
			factor = 0.02
			trait = infirm
			is_alive = yes
		}
	}
	
	5 = { # secret room
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = { 
				religion_group = pacific
				religion_group = muslim
				religion_group = indian_group
			}
		}
		modifier = {
			factor = 0
			NOR = { 
				trait = drunkard
				trait = hedonist
				trait = lustful
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				higher_real_tier_than = DUKE
				spouse = { higher_real_tier_than = DUKE } 
			}
		}
	}
	
	6 = { # military camp
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = {
				AND = {
					is_alive = yes
					in_command = no
					NOT = { has_job_title  = job_marshal }
				}
				AND = {
					is_alive = no
					NOT = { death_reason = death_battle }
				}
			}
		}
		modifier = {
			factor = 0.02
			has_job_title = job_marshal
		}
	}
	
	7 = { # Dolmen
		factor = 5
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { religion_group = pagan_group }
		}
		modifier = {
			factor = 0
			OR = { 
				religion = occultist
				religion = occultist_reformed
			}
		}
		modifier = {
			factor = 0
			OR = { 
				is_offmap_tag_including_dead = offmap_china
				location = { 
					NOR = { 
						region = world_northeast 
						region = world_great_plains
					} 
				}
			}
		}
		modifier = {
			factor = 100
			is_alive = no
		}
		modifier = {
			factor = 2
			is_priest = yes
		}
	}
	
	8 = { # Gallows
		factor = 5
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { trait = cruel }
			NOT = { trait = impaler }
			NOT = { death_execution_trigger = yes }
		}
		modifier = {
			factor = 20
			OR = {
				trait = impaler
				death_execution_trigger = yes
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				higher_real_tier_than = DUKE
				spouse = { higher_real_tier_than = DUKE } 
			}
		}
	}
	
	9 = { # Church
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { religion_group = christian }
		}
		modifier = {
			factor = 0
			NOR = {
				is_theocracy = yes
				has_job_title = job_spiritual
			}
		}
		modifier = {
			factor = 0
			OR = { 
				has_landed_title = k_papal_state 
				has_landed_title = k_ursuline
				has_landed_title = k_evangelical
				has_landed_title = d_high_church 
				has_landed_title = d_nestorian
				has_landed_title = d_quorum_of_the_twelve #did we add any more of these titles???
				has_claim = k_papal_state 
				has_claim = k_ursuline 
				has_claim = k_evangelical
				has_claim = d_high_church 
				has_claim = d_nestorian 
				has_claim = d_quorum_of_the_twelve 
			}
		}
	}
	
	10 = { # Desert
		factor = 5
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = { 
				is_offmap_tag_including_dead = offmap_china
				location = { 
					NOR = { 
						region = world_southwest
						region = world_rockies
						region = world_caribbean 
					} 
				}
			}
		}
		modifier = {
			factor = 0
			OR = {
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT } 
			}
		}
		modifier = {
			factor = 10
			OR = {
				is_tribal = yes
				is_nomadic = yes
			}
		}
	}
	
	11 = { # Steppe
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = { 
				is_offmap_tag_including_dead = offmap_china
				location = { 
					NOT = { 
						region = world_great_plains
					} 
				}
			}
		}
		modifier = {
			factor = 10
			OR = {
				is_tribal = yes
				is_nomadic = yes
			}
		}
		modifier = {
			factor = 0
			OR = {
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT } 
			}
		}
	}
	
	12 = { # Ocean w ships
		factor = 10
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = { 
				is_offmap_tag_including_dead = offmap_china
				capital_scope = { 
					NOT = { 
						port = yes 
					} 
				}
				location = { 
					NOT = { 
						terrain = coastal_desert 
					} 
				}
			}
		}
	}
	
	13 = { # Muslim interior
		factor = 2
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { religion_group = pacific }
			NOT = { religion_group = muslim }
			NOT = { religion_group = indian_group }
		}
	}
	
	14 = { # Harem
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { religion_group = pacific }
			NOT = { religion_group = muslim }
			NOT = { religion_group = indian_group }
		}
		modifier = {
			factor = 100
			OR = {
				trait = lustful
				trait = hedonist
			}
		}
	}
	
	15 = { # Muslim interior 2
		factor = 10
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = { 
				is_offmap_tag_including_dead = offmap_china
				location = { 
					NOR = { 
						region = world_southwest
						region = world_rockies
						region = world_caribbean 
					} 
				}
			}
		}
		modifier = {
			factor = 0
			lower_real_tier_than = DUKE
			spouse = { lower_real_tier_than = DUKE } 
		}
	}

	16 = { # Mongol camp 1
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			is_nomadic = no
		}
		modifier = {
			factor = 2
			OR = {
				culture_group = plains
				AND = {
					OR = {
						culture_group = west_anglo
						culture_group = rockland
						is_nomadic = yes
					}
				}
			}
		}
	}

	17 = { # Mongol camp 2
		factor = 10
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = { 
				is_offmap_tag_including_dead = offmap_china
				location = { 
					NOT = { 
						region = world_great_plains
					} 
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				culture_group = plains
				AND = {
					OR = {
						culture_group = west_anglo
						culture_group = rockland
						is_nomadic = yes
					}
				}
			}
		}
		modifier = {
			factor = 0
			lower_real_tier_than = DUKE
			spouse = { lower_real_tier_than = DUKE } 
		}
	}

	18 = { # Papal palace
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { has_landed_title = k_papal_state }
			NOT = { has_landed_title = k_ursuline }
			NOT = { has_landed_title = k_evangelical }
			NOT = { has_landed_title = d_high_church }
			NOT = { has_landed_title = d_nestorian }
			NOT = { has_landed_title = d_quorum_of_the_twelve }
			NOT = { has_claim = k_papal_state }
			NOT = { has_claim = k_ursuline }
			NOT = { has_claim = k_evangelical }
			NOT = { has_claim = d_high_church }
			NOT = { has_claim = d_nestorian }
			NOT = { has_claim = d_quorum_of_the_twelve }
		}
	}

	19 = { # Muslim mosque
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = {
				is_ruler = no
				is_theocracy = no
			}
			NOT = { religion_group = muslim }
		}
		modifier = {
			factor = 0
			NOR = {
				is_theocracy = yes
				has_job_title = job_spiritual
			}
		}
	}

	20 = { # Pagan human sacrifice
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { religion_group = pagan_group }
			NOT = { death_sacrificed_trigger = yes }
		}
		modifier = {
			factor = 1000
			death_sacrificed_trigger = yes
		}
		modifier = {
			factor = 10
			is_priest = yes
		}
	}
	21 = { # Saint Halo
		factor = 1
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		
		modifier = {
			factor = 0
			NOT = { trait = saint }
		}
		modifier = {
			factor = 1000
			trait = saint 
		}
	}
	22 = { # blue curtains
		factor = 4
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOR = { 
				culture_group = gallomerican
				culture_group = louisianais
				culture_group = mexicano
				culture_group = caribeno
				culture_group = centrolatino
				culture_group = colombiano
				culture_group = venezolano
				culture_group = portunhol
				culture_group = portuguese
			}
		}
	}
	23 = { # ocean window
		factor = 5
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = { 
				is_offmap_tag_including_dead = offmap_china
				location = { 
					NOR = { 
						region = custom_atlantic  
						region = custom_pacific
					} 
				}
			}
		}
		modifier = {
			factor = 0
			lower_real_tier_than = DUKE
			spouse = { lower_real_tier_than = DUKE } 
		}
		modifier = {
			factor = 5
			location = { 
				port = yes 
			}
		}
	}
	24 = { # field window
		factor = 5
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = { 
				is_offmap_tag_including_dead = offmap_china
				location = { 
					NOR = { 
						region = world_caribbean   
						region = world_south_america
					} 
				}
			}
		}
		modifier = {
			factor = 0
			lower_real_tier_than = DUKE
			spouse = { lower_real_tier_than = DUKE } 
		}
	}
}

# p1 hair  --- WARNING! Property 1 MUST be Hair, otherwise the hair hiding helmets wont work ---
1 = {
	0 = { # Completely bald
		factor = 1
		modifier = {
			factor = 0.1
			is_female = no
			NOT = {
				age = 50
			}
			NOT = { has_character_flag = passing_atom_judgement }
			NOT = { has_character_modifier = atom_judgement }
		}
		modifier = {
			factor = 0.1
			is_female = yes
			NOT = { has_character_flag = passing_atom_judgement }
			NOT = { has_character_modifier = atom_judgement }
		}
		
		# Does not suit African females of a Western Culture
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				graphical_culture = africangfx
				graphical_culture = westafricangfx
			}
			NOT = { religion_group = afro_syncretic }
			NOT = { culture_group = caribbanglo }
			NOT = { culture_group = antillais }
			NOT = { culture_group = mesanglo }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
		modifier = {
			factor = 100
			is_devout_chinese_buddhist_trigger = yes
		}
		modifier = {
			factor = 0
			follows_filial_piety_trigger = yes
		}
	}

	1 = { # Black Adder
		factor = 1
		
		# Does not suit African females of a Western Culture
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				graphical_culture = africangfx
				graphical_culture = westafricangfx
			}
			NOT = { religion_group = afro_syncretic }
			NOT = { culture_group = caribbanglo }
			NOT = { culture_group = antillais }
			NOT = { culture_group = mesanglo }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
	}
	
	2 = { # Page
		factor = 1
		
		# Does not suit Western females with African style headgear
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				religion_group = afro_syncretic
				culture_group = caribbanglo
				culture_group = antillais
				culture_group = mesanglo
			}
			NOT = { graphical_culture = africangfx }
			NOT = { graphical_culture = westafricangfx }
			NOT = { graphical_culture = muslimgfx }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
		modifier = { 
			factor = 0
			is_female = yes
			OR = {
				is_married = yes
				higher_tier_than = duke
			}
			graphical_culture = croat_southslavicgfx
			culture = prodnanici
		}
	}

	3 = { # Synth
		factor = 1
		
		# Does not suit Western females with African style headgear
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				religion_group = afro_syncretic
				culture_group = caribbanglo
				culture_group = antillais
				culture_group = mesanglo
			}
			NOT = { graphical_culture = africangfx }
			NOT = { graphical_culture = westafricangfx }
			NOT = { graphical_culture = muslimgfx }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
	}

	4 = { # Long Straight
		factor = 1
		
		# Does not suit Western females with African style headgear
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				religion_group = afro_syncretic
				culture_group = caribbanglo
				culture_group = antillais
				culture_group = mesanglo
			}
			NOT = { graphical_culture = africangfx }
			NOT = { graphical_culture = westafricangfx }
			NOT = { graphical_culture = muslimgfx }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
		modifier = { 
			factor = 0
			is_female = yes
			OR = {
				is_married = yes
				higher_tier_than = duke
			}
			graphical_culture = croat_southslavicgfx
			culture = prodnanici
		}
	}

	5 = { # Long Curly
		factor = 1
		
		# Does not suit African females of a Western Culture
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				graphical_culture = africangfx
				graphical_culture = westafricangfx
			}
			NOT = { culture_group = caribbanglo }
			NOT = { religion_group = afro_syncretic }
			NOT = { culture_group = antillais }
			NOT = { culture_group = mesanglo }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
		modifier = { 
			factor = 0
			is_female = yes
			OR = {
				is_married = yes
				higher_tier_than = duke
			}
			graphical_culture = croat_southslavicgfx
			culture = prodnanici
		}
	}

	6 = {  # Tonsure
		factor = 1
		modifier = {
			factor = 0
			is_female = no
			higher_real_tier_than = unlanded
		}
		modifier = {
			factor = 0
			is_female = no
			NOR = {
				religion_group = christian
				religion_group = latter_day_saints
				religion_group = cult_of_saints
			}
		}
		modifier = {
			factor = 0
			is_female = no
			NOT = { trait = detached_priest }
			NOT = { trait = martial_cleric }
			NOT = { trait = scholarly_theologian }
			NOT = { trait = mastermind_theologian }
			NOT = { has_job_title = job_spiritual }
		}

		modifier = {
			factor = 50
			is_female = no
		}
		
		# Does not suit Western females with African style headgear
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				religion_group = afro_syncretic
				culture_group = caribbanglo
				culture_group = antillais
				culture_group = mesanglo
			}
			NOT = { graphical_culture = africangfx }
			NOT = { graphical_culture = westafricangfx }
			NOT = { graphical_culture = muslimgfx }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
		
		# Does not suit African females of a Western Culture
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				graphical_culture = africangfx
				graphical_culture = westafricangfx
			}
			NOT = { religion_group = afro_syncretic }
			NOT = { culture_group = caribbanglo }
			NOT = { culture_group = antillais }
			NOT = { culture_group = mesanglo }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
	}
	
	7 = {  # Short
		factor = 1
		
		# Does not suit Western females with African style headgear
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				religion_group = afro_syncretic
				culture_group = caribbanglo
				culture_group = antillais
				culture_group = mesanglo
			}
			NOT = { graphical_culture = africangfx }
			NOT = { graphical_culture = westafricangfx }
			NOT = { graphical_culture = muslimgfx }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
		
		# Does not suit African females of a Western Culture
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				graphical_culture = africangfx
				graphical_culture = westafricangfx
			}
			NOT = { religion_group = afro_syncretic }
			NOT = { culture_group = caribbanglo }
			NOT = { culture_group = antillais }
			NOT = { culture_group = mesanglo }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
	}
	
	8 = { # Short Curly
		factor = 1
	}
	
	9 = {  # Short Uncouth
		factor = 1
		modifier = {
			factor = 5
			OR = {
				religion_group = pagan_group
				religion_group = pirate
			}
		}
		
		# Does not suit Western females with African style headgear
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				religion_group = afro_syncretic
				culture_group = caribbanglo
				culture_group = antillais
				culture_group = mesanglo
			}
			NOT = { graphical_culture = africangfx }
			NOT = { graphical_culture = westafricangfx }
			NOT = { graphical_culture = muslimgfx }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
	}
	
	10 = {  # Long Uncouth
		factor = 1
		
		modifier = {
			factor = 5
			OR = {
				religion_group = pagan_group
				religion_group = pirate
			}
		}
		
		# Does not suit Western females with African style headgear
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				religion_group = afro_syncretic
				culture_group = caribbanglo
				culture_group = antillais
				culture_group = mesanglo
			}
			NOT = { graphical_culture = africangfx }
			NOT = { graphical_culture = westafricangfx }
			NOT = { graphical_culture = muslimgfx }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
		modifier = {
			factor = 0
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
		modifier = { 
			factor = 0
			is_female = yes
			OR = {
				is_married = yes
				higher_tier_than = duke
			}
			graphical_culture = croat_southslavicgfx
			culture = prodnanici
		}
	}
	
	11 = { # Balding
		factor = 1
		modifier = {
			factor = 0.1
			is_female = no
			NOT = {
				age = 50
			}
		}
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
		modifier = { 
			factor = 0
			is_female = yes
			OR = {
				is_married = yes
				higher_tier_than = duke
			}
			graphical_culture = croat_southslavicgfx
			culture = prodnanici
		}
	}
	
	12 = { # Marine
		factor = 1
		
		# Does not suit Western females with African style headgear
		modifier = {
			factor = 0
			is_female = yes
			OR = {
				religion_group = afro_syncretic
				culture_group = caribbanglo
				culture_group = antillais
				culture_group = mesanglo
			}
			NOT = { graphical_culture = africangfx }
			NOT = { graphical_culture = westafricangfx }
			NOT = { graphical_culture = muslimgfx }
			OR = {
				higher_real_tier_than = count
				spouse = { higher_real_tier_than = count }
				has_minor_title = title_prince
			}
		}
		modifier = {
			factor = 0
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 2
			filial_piety_maiden_trigger = yes
		}
	}
	
	13 = { # Mohawk
		factor = 1
		modifier = {
			factor = 3
			culture = iroquois #get it? mohawk? ...
		}
		modifier = {
			factor = 0
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 2
			filial_piety_maiden_trigger = yes
		}
		modifier = {
			factor = 0
			OR = {
				graphical_culture = chinesepacificgfx
				graphical_culture = chinogfx
			}
			OR = {
				is_married = yes
				is_ruler = yes
			}
		}
	}
	
	14 = { # Mohawk
		factor = 1
		modifier = {
			factor = 3
			culture = iroquois #get it? mohawk? ...
		}
		modifier = {
			factor = 0
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 0
			is_female = yes
			follows_filial_piety_trigger = yes
		}
		modifier = {
			factor = 2
			filial_piety_maiden_trigger = yes
		}
		modifier = {
			factor = 0
			OR = {
				graphical_culture = chinesepacificgfx
				graphical_culture = chinogfx
			}
			OR = {
				is_married = yes
				is_ruler = yes
			}
		}
	}
	
	15 = { # Mohawk
		factor = 1
		modifier = {
			factor = 3
			culture = iroquois #get it? mohawk? ...
		}
		modifier = {
			factor = 0
			OR = {
				graphical_culture = chinesepacificgfx
				graphical_culture = chinogfx
			}
			OR = {
				is_married = yes
				is_ruler = yes
			}
		}
	}
}

# p2 base
2 = {
}

# p3 clothes
3 = {
	
	0 = { # Royal clothes 1
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 1 }
				has_portrait_property = { layer = 3 index = 2 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { has_minor_title = title_prince }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
	}
	
	1 = { # Royal clothes 2
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 0 }
				has_portrait_property = { layer = 3 index = 2 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { has_minor_title = title_prince }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
	}
	
	2 = { # Royal clothes 3
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 0 }
				has_portrait_property = { layer = 3 index = 1 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { has_minor_title = title_prince }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
	}
	
	3 = { # Noble clothes 1
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 4 }
				has_portrait_property = { layer = 3 index = 5 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = duke }
			NOT = { real_tier = count }
			NOT = { real_tier = baron }
			NOT = { spouse = { real_tier = duke } }
			NOT = { spouse = { real_tier = count } }
			NOT = { spouse = { real_tier = baron } }
			NOT = { has_minor_title = title_prince }
		}
	}
	
	4 = { # Noble clothes 2
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 3 }
				has_portrait_property = { layer = 3 index = 5 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = duke }
			NOT = { real_tier = count }
			NOT = { real_tier = baron }
			NOT = { spouse = { real_tier = duke } }
			NOT = { spouse = { real_tier = count } }
			NOT = { spouse = { real_tier = baron } }
			NOT = { has_minor_title = title_prince }
		}
	}
	
	5 = { # Noble clothes 3
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 3 }
				has_portrait_property = { layer = 3 index = 4 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
				government = order_government
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = duke }
			NOT = { real_tier = count }
			NOT = { real_tier = baron }
			NOT = { spouse = { real_tier = duke } }
			NOT = { spouse = { real_tier = count } }
			NOT = { spouse = { real_tier = baron } }
			NOT = { has_minor_title = title_prince }
		}
	}
	
	6 = { # Modest clothes 1
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 7 }
				has_portrait_property = { layer = 3 index = 8 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_ruler = yes
				government = order_government
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		modifier = {
			factor = 10
			is_ruler = yes
			is_theocracy = yes
			OR = {
				religion_group = pagan_group
				religion_group = pirate
			}
		}
	}
	7 = { # Modest clothes 2
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 6 }
				has_portrait_property = { layer = 3 index = 8 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				government = order_government
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
	}
	
	8 = { # Modest clothes 3
		factor = 1
		modifier = {
			factor = 0
			OR = { #Prevent clothes switching on portrait refresh.
				has_portrait_property = { layer = 3 index = 6 }
				has_portrait_property = { layer = 3 index = 7 } 
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				government = order_government
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
	}
	9 = { # Shady clothes
		factor = 3
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			prisoner = yes
		}
		modifier = {
			factor = 0
			OR = {
				government = order_government
				real_tier = king
				real_tier = emperor
				AND = {
					real_tier = duke
					any_demesne_title = {
						real_tier = baron
					}
				}
				spouse = { real_tier = king }
				spouse = { real_tier = emperor }
			}
		}
		modifier = {
			factor = 0
			NOT = { has_job_title = job_spymaster }
			OR = {
				government = order_government
				real_tier = duke
				NOT = { intrigue = 10 }
			}
		}
	}
	
	# Martial
	10 = {
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = shieldmaiden }
			NOT = { has_job_title  = job_marshal }
			NAND = { 
				has_minor_title = title_commander 
				is_ruler = no 
			}
			#NOT = { martial = 12 }
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
			NOR = {
				government = order_government
				primary_title = {
					OR = {
						title = d_knights_of_columbus
						title = d_knights_of_peter_claver
						title = d_st_ursulas_chosen
						title = k_ursuline_state
						title = d_lebanon_brethren
						title = e_china_west_governor
					}
				}
			}
		}
		modifier = {
			factor = 0
			OR = {
				AND = {
					is_female = yes
					NOT = { trait = shieldmaiden }
					NOT = { has_minor_title = title_commander }
					NAND = { 
						in_command = yes 
						has_game_rule = {
							name = martial_headgear
							value = on
						}
					}
				}
			#	real_tier = king
			#	real_tier = emperor
				AND = {
					NOT = { government = order_government }
					real_tier = duke
					NAND = { 
						in_command = yes 
						has_game_rule = {
							name = martial_headgear
							value = on
						}
					}
					any_demesne_title = {
						real_tier = baron
					}
					NOT = {
						primary_title = {
							OR = {
								title = d_knights_of_columbus
								title = d_knights_of_peter_claver
								title = d_st_ursulas_chosen
								title = k_ursuline_state
								title = d_lebanon_brethren
								title = e_china_west_governor
							}
						}
					}
				}
				AND = {
					OR = {
						religion_group = christian
						religion_group = latter_day_saints
						religion_group = cult_of_saints
					}
					OR = {
						AND = {
							is_ruler = yes
							is_theocracy = yes
						}
						has_job_title = job_spiritual
					}
				}
			}
		}
		modifier = {
			factor = 0
			is_female = yes
			NOT = { government = order_government }
			NOT = { has_law = enatic_succession }
			NOT = { has_law = enatic_cognatic_succession }
			NOT = { has_law = true_cognatic_succession }
			NOT = { has_job_title = job_marshal }
			NOT = { is_married_matrilineally = yes }
		}
		modifier = {
			factor = 0
			chinese_martial_modifier_trigger = yes 
		}
		modifier = {
			factor = 0
			chinese_martial_2_modifier_trigger = yes 
		}
		modifier = {
			factor = 0
			chinese_generals_modifier_trigger = yes
		}
		modifier = {
			factor = 100 # This ensures that the reverse order check stays matched
			has_portrait_property = { layer = 5 index = 10 }
		}
	}
	
	# Ragged prison clothes
	11 = {
		factor = 100
		modifier = {
			factor = 0
			prisoner = no
		}
	}
	
	# Chinese Martial Extension 1
	12 = {
		factor = 99
		modifier = {
			factor = 0
			chinese_generals_modifier_trigger = no
		}
		modifier = {
			factor = 100 # This ensures that the reverse order check stays matched
			has_portrait_property = { layer = 5 index = 12 }
		}
	}
	
	# Chinese Martial Extension 2
	13 = {
		factor = 99
		modifier = {
			factor = 0
			chinese_martial_modifier_trigger = no
		}
		modifier = {
			factor = 0
			OR = { 
				chinese_martial_2_modifier_trigger = yes
				chinese_generals_modifier_trigger = yes
			}
		}
		modifier = {
			factor = 100 # This ensures that the reverse order check stays matched
			has_portrait_property = { layer = 5 index = 13 }
		}
	}
	
	# Chinese Martial Extension 3
	14 = {
		factor = 99
		modifier = {
			factor = 0
			chinese_generals_modifier_trigger = yes
		}
		modifier = {
			factor = 0
			chinese_martial_2_modifier_trigger = no
		}
		modifier = {
			factor = 100 # This ensures that the reverse order check stays matched
			has_portrait_property = { layer = 5 index = 14 }
		}
	}
}

# p4 beard
4 = {
	0 = {
		factor = 1
		#modifier = {
		#	factor = 0
		#	religion_group = muslim
		#	NOT = { graphical_culture = muslimgfx }
		#}
		modifier = {
			factor = 30
			OR = {
				culture = gothamite
				culture = brazilian
				culture = gaucho
				#anything that uses greek culture goes here too!
			}
			OR = {
				religion_group = christian
				religion_group = cult_of_saints
				religion_group = latter_day_saints
			}
			OR = {
				graphical_culture = southerngfx
				graphical_culture = byzantinegfx
			}
		}
		modifier = {
			factor = 15
			OR = {
				religion_group = christian
				religion_group = cult_of_saints
				religion_group = latter_day_saints
			}
			OR = {
				culture_group = mexicano
				culture_group = caribeno
				culture_group = centrolatino
				culture_group = colombiano
				culture_group = venezolano
			}
			OR = {
				graphical_culture = southerngfx
				graphical_culture = byzantinegfx
			}
		}
		modifier = {
			factor = 0
			religion = anabaptist
			NOT = {
				trait = cynical
			}
		}
		modifier = {
			factor = 100
			is_devout_chinese_buddhist_trigger = yes
		}
	}
	1 = {
		factor = 1
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = frankishgfx
		}
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			OR = {
				graphical_culture = occitangfx
				graphical_culture = trueoccitangfx
			}
		}
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = southerngfx
		}
	}
	2 = {
		factor = 1
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = englishgfx
		}
	}
	3 = {
		factor = 1
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = frankishgfx
		}
		modifier = {
			factor = 100
			religion = anabaptist
			trait = zealous
			graphical_culture = southerngfx
		}
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = celticgfx
		}
	}
	4 = {
		factor = 1
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = germangfx
		}
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = frankishgfx
		}
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			OR = {
				graphical_culture = occitangfx
				graphical_culture = trueoccitangfx
			}
		}
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = celticgfx
		}
	}
	5 = {
		factor = 1
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = frankishgfx
		}
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			OR = {
				graphical_culture = occitangfx
				graphical_culture = trueoccitangfx
			}
		}
	}
	6 = {
		factor = 1
		modifier = {
			factor = 100
			religion = anabaptist
			trait = zealous
			OR = {
				graphical_culture = occitangfx
				graphical_culture = trueoccitangfx
			}
		}
	}
	7 = {
		factor = 1
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			OR = {
				graphical_culture = occitangfx
				graphical_culture = trueoccitangfx
			}
		}
	}
	8 = {
		factor = 1
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = celticgfx
		}
	}
	9 = {
		factor = 1
		modifier = {
			factor = 5
			OR = {
				religion_group = christian
				religion_group = cult_of_saints
				religion_group = latter_day_saints
			}
			OR = {
				culture_group = mexicano
				culture_group = caribeno
				culture_group = centrolatino
				culture_group = colombiano
				culture_group = venezolano
			}
			OR = {
				graphical_culture = southerngfx
				graphical_culture = byzantinegfx
			}
		}
		modifier = {
			factor = 100
			religion = anabaptist
			trait = zealous
			graphical_culture = englishgfx
		}
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = southerngfx
		}
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = celticgfx
		}
	}
	10 = {
		factor = 1
		#modifier = {
		#	factor = 0
		#	religion_group = muslim
		#	NOT = { graphical_culture = muslimgfx }
		#}
		modifier = {
			factor = 20
			OR = {
				religion_group = christian
				religion_group = cult_of_saints
				religion_group = latter_day_saints
			}
			OR = {
				culture_group = mexicano
				culture_group = caribeno
				culture_group = centrolatino
				culture_group = colombiano
				culture_group = venezolano
			}
			OR = {
				graphical_culture = southerngfx
				graphical_culture = byzantinegfx
			}
		}
		modifier = {
			factor = 60
			OR = {
				religion_group = christian
				religion_group = cult_of_saints
				religion_group = latter_day_saints
			}
			OR = {
				culture = gothamite
				culture = brazilian
				culture = gaucho
			}
			OR = {
				graphical_culture = southerngfx
				graphical_culture = byzantinegfx
			}
		}
	}
	11 = {
		factor = 1
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = englishgfx
		}
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = southerngfx
		}
	}
	12 = {
		factor = 1
		modifier = {
			factor = 100
			religion = anabaptist
			trait = zealous
			graphical_culture = germangfx
		}
	}
	13 = {
		factor = 1
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = englishgfx
		}
	}
	14 = {
		factor = 1
		modifier = {
			factor = 0.5
			religion = anabaptist
			NOT = {
				trait = cynical
			}
			graphical_culture = germangfx
		}
	}
}

# p5 headgear
5 = {
	# Imperial crown/Caliph turban
	0 = {
		factor = 100
		hide_layers = { 31 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		hide_layers = { 32 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			is_nomadic = yes 
			NOT = { 
				population = 10000
			}
		}
		modifier = { #Nomads marrying lowly pagans should not give them Imperial crowns, unless the spouse has enough population to warrant it.
			factor = 0
			spouse = { 
				is_nomadic = yes 
				real_tier = EMPEROR 
				NOT = { 
					population = 10000
				}
			}
			is_ruler = yes
			lower_tier_than = EMPEROR
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #If you are Emperor and died without being crowned, you don't wear a crown.
			factor = 0
			real_tier = EMPEROR
			trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
		}
		modifier = { #If you are a living Emperor and are not crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			real_tier = EMPEROR
			is_alive = yes
			OR = { 
				religion = catholic
				religion = ursuline
				religion = mormon
				religion = high_church
			} 
			NOR = { 
				trait = crowned_by_priest 
				trait = crowned_by_bishop
				trait = crowned_by_pope
				trait = crowned_by_myself 
			}
		}
		modifier = { #If you are the spouse of an Emperor while not being Empress yourself, and your husband died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = EMPEROR }
			spouse = { 
				real_tier = EMPEROR
				trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
			} 
		}
		modifier = {
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = EMPEROR }
			spouse = { 
				real_tier = EMPEROR
				is_alive = yes 
				OR = { 
					religion = catholic
					religion = ursuline
					religion = mormon
					religion = high_church
				} 
				NOR = { 
					trait = crowned_by_priest 
					trait = crowned_by_bishop
					trait = crowned_by_pope
					trait = crowned_by_myself 
				}
			} 
		}
		modifier = {
			factor = 0
			is_ruler = yes #Otherwise dead landless Queens don't wear the crown, as they default to nogovernment.
			is_feudal = no
			is_tribal = no
			is_nomadic = no
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			is_republic = yes
			is_alive = no
		}
		modifier = {
			factor = 0 
			spouse = { is_republic = yes } #Dead wives of Patricians are nogovernment, thus they would wear crowns for being married to a King-tier.
			is_alive = no
			is_ruler = no
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		#modifier = {
		#	factor = 0
		#	song_dynasty_futou_trigger = yes
		#}
		modifier = {
			factor = 0
			has_landed_title = e_china_west_governor # Uses martial clothing instead
		}
	}
	
	# Royal crown/turban 1
	1 = {
		factor = 1
		hide_layers = { 31 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		hide_layers = { 32 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		modifier = {
			factor = 0
			OR = { 
				has_portrait_property = { layer = 5 index = 2 }
				has_portrait_property = { layer = 5 index = 3 } 
			}
		}
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { spouse = { real_tier = king } }
		}
		modifier = {
			factor = 0
			is_nomadic = yes 
			NOT = { 
				population = 5000
			}
		}
		modifier = { #Nomads marrying lowly pagans should not give them Imperial crowns unless proper population is met.
			factor = 0
			spouse = { 
				is_nomadic = yes 
				real_tier = KING 
				NOT = { 
					population = 5000
				}
			}
			is_ruler = yes
			lower_tier_than = KING
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #If you are Emperor and died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			real_tier = KING
			trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
		}
		modifier = { #If you are a living Emperor and are not crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			real_tier = KING
			is_alive = yes
			OR = { 
				religion = catholic
				religion = ursuline
				religion = mormon
				religion = high_church
			} 
			NOR = { 
				trait = crowned_by_priest 
				trait = crowned_by_bishop
				trait = crowned_by_pope
				trait = crowned_by_myself 
			}
		}
		modifier = { #If you are the spouse of an Emperor while not being Empress yourself, and your husband died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = KING }
			spouse = { 
				real_tier = KING
				trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
			} 
		}
		modifier = {
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = KING }
			spouse = { 
				real_tier = KING
				is_alive = yes 
				OR = { 
					religion = catholic
					religion = ursuline
					religion = mormon
					religion = high_church
				} 
				NOR = { 
					trait = crowned_by_priest 
					trait = crowned_by_bishop
					trait = crowned_by_pope
					trait = crowned_by_myself 
				}
			} 
		}
		modifier = {
			factor = 0
			is_ruler = yes #Otherwise dead landless Queens don't wear the crown, as they default to nogovernment.
			is_feudal = no
			is_tribal = no
			is_nomadic = no
		}
		modifier = {
			factor = 0
			is_republic = yes
			is_alive = no
		}
		modifier = {
			factor = 0 
			spouse = { is_republic = yes } #Dead wives of Patricians are nogovernment, thus they would wear crowns for being married to a King-tier.
			is_alive = no
			is_ruler = no
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
	}

	# Royal crown/turban 2
	2 = {
		factor = 1
		hide_layers = { 31 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		hide_layers = { 32 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		modifier = {
			factor = 0
			OR = { 
				has_portrait_property = { layer = 5 index = 1 }
				has_portrait_property = { layer = 5 index = 3 } 
			}
		}
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { spouse = { real_tier = king } }
		}
		modifier = {
			factor = 0
			is_nomadic = yes 
			NOT = { 
				population = 5000
			}
		}
		modifier = { #Nomads marrying lowly pagans should not give them Imperial crowns unless proper population is met.
			factor = 0
			spouse = { 
				is_nomadic = yes 
				real_tier = KING 
				NOT = { 
					population = 5000
				}
			}
			is_ruler = yes
			lower_tier_than = KING
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #If you are Emperor and died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			real_tier = KING
			trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
		}
		modifier = { #If you are a living Emperor and are not crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			real_tier = KING
			is_alive = yes
			OR = { 
				religion = catholic
				religion = ursuline
				religion = mormon
				religion = high_church
			} 
			NOR = { 
				trait = crowned_by_priest 
				trait = crowned_by_bishop
				trait = crowned_by_pope
				trait = crowned_by_myself 
			}
		}
		modifier = { #If you are the spouse of an Emperor while not being Empress yourself, and your husband died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = KING }
			spouse = { 
				real_tier = KING
				trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
			} 
		}
		modifier = {
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = KING }
			spouse = { 
				real_tier = KING
				is_alive = yes 
				OR = { 
					religion = catholic
					religion = ursuline
					religion = mormon
					religion = high_church
				} 
				NOR = { 
					trait = crowned_by_priest 
					trait = crowned_by_bishop
					trait = crowned_by_pope
					trait = crowned_by_myself 
				}
			} 
		}
		modifier = {
			factor = 0
			is_ruler = yes #Otherwise dead landless Queens don't wear the crown, as they default to nogovernment.
			is_feudal = no
			is_tribal = no
			is_nomadic = no
		}
		modifier = {
			factor = 0
			is_republic = yes
			is_alive = no
		}
		modifier = {
			factor = 0 
			spouse = { is_republic = yes } #Dead wives of Patricians are nogovernment, thus they would wear crowns for being married to a King-tier.
			is_alive = no
			is_ruler = no
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
	}

	# Royal crown/turban 3
	3 = {
		factor = 1
		hide_layers = { 31 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		hide_layers = { 32 = { } } #Prevent hedge-incompatibilities with Ducal French Overlayers.
		modifier = {
			factor = 0
			OR = { 
				has_portrait_property = { layer = 5 index = 1 } 
				has_portrait_property = { layer = 5 index = 2 }
			}
		}
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { spouse = { real_tier = king } }
			NOT = { song_dynasty_futou_trigger = yes }
		}
		modifier = {
			factor = 0
			is_nomadic = yes 
			NOT = { 
				population = 5000
			}
		}
		modifier = { #Nomads marrying lowly pagans should not give them Imperial crowns unless proper population is met.
			factor = 0
			spouse = { 
				is_nomadic = yes 
				real_tier = KING 
				NOT = { 
					population = 5000
				}
			}
			is_ruler = yes
			lower_tier_than = KING
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			is_republic = yes
			is_alive = no
		}
		modifier = {
			factor = 0 
			spouse = { is_republic = yes } #Dead wives of Patricians are nogovernment, thus they would wear crowns for being married to a King-tier.
			is_alive = no
			is_ruler = no
		}
		modifier = { #If you are Emperor and died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			real_tier = KING
			trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
		}
		modifier = { #If you are a living Emperor and are not crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			real_tier = KING
			is_alive = yes
			OR = { 
				religion = catholic
				religion = ursuline
				religion = mormon
				religion = high_church
			} 
			NOR = { 
				trait = crowned_by_priest 
				trait = crowned_by_bishop
				trait = crowned_by_pope
				trait = crowned_by_myself 
			}
		}
		modifier = { #If you are the spouse of an Emperor while not being Empress yourself, and your husband died without being crowned, you don't wear a crown.
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = KING }
			spouse = { 
				real_tier = KING
				trait = uncrowned # Only on death of uncrowned Catholics/Fraticelli
			} 
		}
		modifier = {
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
			OR = { 
				has_game_started = yes
				is_save_game = yes
			} 
			NOT = { real_tier = KING }
			spouse = { 
				real_tier = KING
				is_alive = yes 
				OR = { 
					religion = catholic
					religion = ursuline
					religion = mormon
					religion = high_church
				} 
				NOR = { 
					trait = crowned_by_priest 
					trait = crowned_by_bishop
					trait = crowned_by_pope
					trait = crowned_by_myself 
				}
			} 
		}
		modifier = {
			factor = 0
			is_ruler = yes #Otherwise dead landless Queens don't wear the crown, as they default to nogovernment.
			is_feudal = no
			is_tribal = no
			is_nomadic = no
			#NOT = { song_dynasty_futou_trigger = yes }
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
			#NOT = { song_dynasty_futou_trigger = yes }
		}
		#modifier = {
		#	factor = 100
		#	song_dynasty_futou_trigger = yes
		#}
	}

	# Simple golden band/turban
	4 = {
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			has_dlc = "Holy Fury" #Ignore Coronation triggers if Holy Fury is disabled.
				#is_feudal = yes
			OR = { 
				AND = { 
					higher_real_tier_than = DUKE 
					OR = { 
						religion = catholic
						religion = ursuline
						religion = mormon
						religion = high_church
					}
					OR = { 
						trait = crowned_by_priest
						trait = crowned_by_bishop
						trait = crowned_by_pope
						trait = crowned_by_myself
						AND = {
							is_alive = no
							NOT = { trait = uncrowned }
						}
						AND = { 
							has_game_started = no
							is_save_game = no
							is_alive = yes
						}
					}
				}
				spouse = { 
					higher_real_tier_than = DUKE 
					OR = { 
						religion = catholic
						religion = ursuline
						religion = mormon
						religion = high_church
					}
					OR = { 
						trait = crowned_by_priest
						trait = crowned_by_bishop
						trait = crowned_by_pope
						trait = crowned_by_myself
						AND = {
							is_alive = no
							NOT = { trait = uncrowned }
						}
						AND = { 
							has_game_started = no
							is_save_game = no
							is_alive = yes
						}
					}
				}
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			NOT = { has_dlc = "Holy Fury" }
			higher_real_tier_than = DUKE
		}
		modifier = {
			factor = 0
			NOT = { has_dlc = "Holy Fury" }
			spouse = { higher_real_tier_than = DUKE }
		}
		modifier = {
			factor = 0
			is_ruler = yes
			NOT = { trait = uncrowned }
			NOT = { religion = catholic }
			NOT = { religion = ursuline }
			NOT = { religion = mormon }
			NOT = { religion = high_church }
			higher_real_tier_than = DUKE
			OR = { 
				is_nomadic = no 
				population = 5000
			}

		}
		modifier = {
			factor = 0 #Dead Doges should not wear crowns.
			is_republic = yes
			is_alive = no
		}
		modifier = {
			factor = 0
			NOT = { real_tier = count }
			NOT = { real_tier = duke }
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { has_minor_title = title_prince }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = duke } }
			NOT = { spouse = { real_tier = count } }
		}
		modifier = { #French Counts also wear the golden band.
			factor = 0 
			has_dlc = "Holy Fury"
			NOT = { culture = frankish }
			NOT = { culture = occitan }
			lower_real_tier_than = DUKE
			spouse = { lower_real_tier_than = DUKE }
		}
		modifier = { #Otherwise go as normal.
			factor = 0 
			NOT = { has_dlc = "Holy Fury" }
			lower_real_tier_than = DUKE
			spouse = { lower_real_tier_than = DUKE }
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
	}

	# Common headgear 1 - hood
	5 = {
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			trait = shieldmaiden
		}
		modifier = {
			factor = 10
			is_ruler = yes
			is_theocracy = yes
			OR = {
				religion_group = pagan_group
				religion_group = pirate
			}
		}
		modifier = {
			factor = 2
			is_female = yes
			graphical_culture = croat_southslavicgfx
			culture = prodnanici
			is_married = no
		}
		modifier = { # Specific rules for frankish / Occitanian layering
			factor = 0
			NOT = {
				french_courtier_overlayer_trigger = yes
			}
		}
	}
	
	# Common headgear 2 - hood
	6 = {
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			trait = shieldmaiden
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		modifier = { # Specific rules for frankish / Occitanian layering
			factor = 0
			has_dlc = "Holy Fury"
			is_female = yes
			culture_group = louisianais
			OR = {
				is_ruler = yes
				spouse = { is_ruler = yes }
			}
			OR = {
				is_married = no
				NOT = { age = 40 }
			}
			NOT = {
				has_portrait_property = { layer = 3 index = 10 }
			}
		}
		modifier = { # Specific rules for frankish / Occitanian layering
			factor = 0
			NOT = {
				french_courtier_overlayer_trigger = yes
			}
		}
	}

	# Common headgear 3 - Red hat
	7 = {
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			trait = shieldmaiden
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				NOT = { religion = evangelical }
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		modifier = { # Specific rules for frankish / Occitanian layering
			factor = 0
			has_dlc = "Holy Fury"
			is_female = yes
			culture_group = louisianais
			OR = {
				is_ruler = yes
				spouse = { is_ruler = yes }
			}
			OR = {
				is_married = no
				NOT = { age = 40 }
			}
			NOT = {
				has_portrait_property = { layer = 3 index = 10 }
			}
		}
		modifier = { # Specific rules for frankish / Occitanian layering
			factor = 0
			NOT = {
				french_courtier_overlayer_trigger = yes
			}
		}
	}
	
	# Common headgear 4 - hood
	8 = {
		factor = 1
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			trait = shieldmaiden
		}
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		modifier = {
			factor = 0
			is_female = yes
			graphical_culture = croat_southslavicgfx
			culture = prodnanici
			is_married = yes
		}
		modifier = {
			factor = 2
			is_female = yes
			graphical_culture = croat_southslavicgfx
			culture = prodnanici
			is_married = no
		}
		modifier = { # Specific rules for frankish / Occitanian layering
			factor = 0
			has_dlc = "Holy Fury"
			is_female = yes
			culture_group = louisianais
			OR = {
				is_ruler = yes
				spouse = { is_ruler = yes }
			}
			OR = {
				is_married = no
				NOT = { age = 40 }
			}
			NOT = {
				has_portrait_property = { layer = 3 index = 10 }
			}
		}
		modifier = { # Specific rules for frankish / Occitanian layering
			factor = 0
			NOT = {
				french_courtier_overlayer_trigger = yes
			}
		}
	}

	# Shady headgear
	9 = {
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		factor = 3
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = {
			factor = 0
			OR = {
				real_tier = king
				real_tier = emperor
				AND = {
					real_tier = duke
					any_demesne_title = {
						real_tier = baron
					}
				}
				spouse = { real_tier = king }
				spouse = { real_tier = emperor }
			}
		}
		modifier = {
			factor = 0
			NOT = { has_job_title = job_spymaster }
			OR = {
				real_tier = duke
				NOT = { intrigue = 10 }
			}
		}
	}

	# Martial headgear
	10 = {
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			OR = { 
				NOT = { has_portrait_property = { layer = 3 index = 10 } } 
				primary_title = { #Holy Orders in peace time should wear martial clothes, but not the helmet.
					OR = {
						title = d_knights_of_columbus
						title = d_knights_of_peter_claver
						title = d_st_ursulas_chosen
						title = k_ursuline_state
						title = d_lebanon_brethren
						title = e_china_west_governor
					}
				}
			}
		}
		modifier = {
			factor = 0
			trait = shieldmaiden
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
	}

	# Blank
	11 = {
		factor = 3
		modifier = {
			factor = 20000
			trait = saint 
		}
		modifier = {
			factor = 20000
			trait = shieldmaiden
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		modifier = {
			factor = 20000
			OR = { 
				government = order_government 
				primary_title = { #Holy Orders in peace time should wear martial clothes, but not the helmet.
					OR = {
						title = d_knights_of_columbus
						title = d_knights_of_peter_claver
						title = d_st_ursulas_chosen
						title = k_ursuline_state
						title = d_lebanon_brethren
					}
				}
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
			NOT = { trait = saint }
		}
		modifier = {
			factor = 0
			NOT = { trait = saint }
			NOT = { is_republic = yes }
			NOT = { government = order_government }
			OR = {
				real_tier = emperor
				real_tier = king
				real_tier = duke
				has_minor_title = title_prince
				spouse = { 
					real_tier = emperor
					NOT = { is_republic = yes }
			 	}
				spouse = { 
					real_tier = king
					NOT = { is_republic = yes }
			 	}
				spouse = { 
					real_tier = duke
					NOT = { is_republic = yes }
			 	}
			}
		}
		modifier = {
			factor = 4
			is_female = yes
			graphical_culture = croat_southslavicgfx
			culture = prodnanici
			is_married = no
		}
	}
	
	# Chinese Martial Extension 1
	12 = {
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 3 index = 12 } }
		}
	}
	
	# Chinese Martial Extension 2
	13 = {
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 3 index = 13 } }
		}
	}
	
	# Chinese Martial Extension 3
	14 = {
		factor = 100
		modifier = {
			factor = 0
			trait = saint 
		}
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 3 index = 14 } }
		}
	}
}

# p6 imprisoned
6 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			prisoner = yes
		}
	}

	1 = { # prisoner
		factor = 100
		modifier = {
			factor = 0
			prisoner = no
		}
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
	}
}

# p7 scars - Tier I
7 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			trait = scarred
			OR = {
				trait = scarred_type_1
				trait = scarred_type_2
				trait = scarred_type_3
				trait = scarred_type_4
				trait = scarred_type_5
				trait = scarred_type_6
				trait = scarred_type_7
				trait = scarred_type_8
				trait = scarred_type_9
				trait = scarred_type_10
			}
		}
   	}

	1 = { # scar 1 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_1
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}

	2 = { # scar 2 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_2
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}

	3 = { # scar 3 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_3
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}

	4 = { # scar 4 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_4
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	5 = { # scar 5 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_5
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	6 = { # scar 6 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_6
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	7 = { # scar 7 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_7
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	8 = { # scar 8 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_8
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	9 = { # scar 9 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_9
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	10 = { # scar 10 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_10
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
}

# p8 red dots
8 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				trait = has_measles
				trait = has_small_pox
			}
		}
 	}

	1 = { # red dots
		factor = 100
		modifier = {
			factor = 0
			OR = {
				NOT = {
					trait = has_measles
					trait = has_small_pox
				}
			}
		}
  	}
}

# p9 boils
9 = {

	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				trait = has_bubonic_plague
			}
		}
 	}

	1 = { # boils
		factor = 100
		modifier = {
			factor = 0
			OR = {
				NOT = {
					trait = has_bubonic_plague
				}
			}
		}
 	}
 	
}

# p10 blinded
10 = {
	0 = {
		factor = 100
		modifier = {
			factor = 0
			trait = blinded
		}
	}
	
	1 =  {
		factor = 100
		modifier = {
			factor = 0
			NOT = {
				trait = blinded
			}
		}
	}
}

# p11 player
11 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			AND = {
				ai = no
				multiplayer = yes
			}
		}
	}

	1 = { # player
		factor = 100
		modifier = {
			factor = 0
			OR = {
				ai = yes
				multiplayer = no
			}
		}
	}
}

# p12 mask for the disfigured
12 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = { 
				trait = disfigured 
				has_character_modifier = attending_masquerade
				has_character_modifier = forced_mask
			}
		}
	}

	1 = { # mask 1 bone
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					OR = { 
						trait = disfigured 
						has_character_modifier = attending_masquerade
						has_character_modifier = forced_mask
					}
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						OR = {
							religion_group = pagan_group
							religion_group = pirate
						}
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}

	2 = { # mask 2 silver
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				is_tribal = yes
				is_nomadic = yes
				OR = {
					religion_group = pagan_group
					religion_group = pirate
				}
				has_character_modifier = golden_mask
			}
		}
		#modifier = {
		#	factor = 0
		#	OR = {
		#		culture = manden
		#		culture = maghreb_arabic
		#	}
		#}
	}

	3 = { # mask 3 iron
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = yes
					higher_real_tier_than = DUKE
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { higher_real_tier_than = DUKE }
				}
				is_tribal = yes
				is_nomadic = yes
				OR = {
					religion_group = pagan_group
					religion_group = pirate
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	4 = { # mask 4 bone - blue stripes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						OR = {
							religion_group = pagan_group
							religion_group = pirate
						}
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	5 = { # mask 5 bone - orange stripes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						OR = {
							religion_group = pagan_group
							religion_group = pirate
						}
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	6 = { # mask 6 bone - red dots
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
					}
				}
				has_character_modifier = golden_mask
			}
		}
		modifier = {
			factor = 0
			NOR = {
				is_tribal = yes
				is_nomadic = yes
			}
		}
		modifier = {
			factor = 0
			NOR = {
				religion_group = afro_syncretic
				culture_group = caribbanglo
				culture_group = antillais
				culture_group = mesanglo
			}
		}
	}
	
	7 = { # mask 7 bone - black stripes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
					}
				}
				has_character_modifier = golden_mask
			}
		}
		modifier = {
			factor = 0
			NOR = {
				is_tribal = yes
				is_nomadic = yes
			}
		}
		modifier = {
			factor = 0
			NOR = {
				religion_group = afro_syncretic
				culture_group = caribbanglo
				culture_group = antillais
				culture_group = mesanglo
			}
		}
	}
	
	8 = { # mask 8 bone - red stripes/eyes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						OR = {
							religion_group = pagan_group
							religion_group = pirate
						}
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	9 = { # mask 9 bone - black eyes/lightning
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						OR = {
							religion_group = pagan_group
							religion_group = pirate
						}
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	10 = { # mask 10 - decorated silver
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				is_tribal = yes
				is_nomadic = yes
				OR = {
					religion_group = pagan_group
					religion_group = pirate
				}
				has_character_modifier = golden_mask
			}
		}
		#modifier = {
		#	factor = 0
		#	OR = {
		#		culture = manden
		#		culture = maghreb_arabic
		#	}
		#}
	}
	
	11 = { # mask 11 - decorated gold
		factor = 2
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				is_tribal = yes
				is_nomadic = yes
				OR = {
					religion_group = pagan_group
					religion_group = pirate
				}
			}
			NOT = { has_character_modifier = golden_mask }
		}
		modifier = {
			factor = 0
			NOR = {
				trait = greedy
				trait = proud
				trait = ambitious
				trait = envious
				#culture = manden
				#culture = maghreb_arabic
			}
			NOT = { has_character_modifier = golden_mask }
		}
		modifier = {
			factor = 5
			has_landed_title = k_papal_state
		}
		modifier = {
			factor = 1000
			has_character_modifier = golden_mask
		}
	}
	
	12 = { # mask 12 - full mask 1 leather
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				OR = {
					religion_group = pagan_group
					religion_group = pirate
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	13 = { # mask 13 - full mask 2 bone
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				OR = {
					religion_group = pagan_group
					religion_group = pirate
				}
				has_character_modifier = golden_mask
			}
		}
	}
}

# p13 eyepatch for one_eyed
13 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			trait = one_eyed
			NOT = { has_character_modifier = glass_eye }
		}
	}

	1 = { # eyepatch 1
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
	}
	
	2 = { # eyepatch 2 - red leather
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
	}
	
	3 = { # eyepatch 3 - painted eye
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NAND = {
					trait = one_eyed
					OR = {
						trait = paranoid
						trait = possessed
					}
				}
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 2
			OR = {
				trait = paranoid
				trait = possessed
			}
		}
	}
	
	4 = { # eyepatch 4 - red
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
	}
	
	5 = { # eyepatch 5 - white rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 3
			AND = {
				OR = {
					religion = catholic
					religion = ursuline
				}
				is_theocracy = yes
			}
		}
	}
	
	6 = { # eyepatch 6 - blue rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 2
			OR = {
				religion = americanist
				religion = hamiltonian
				religion = jeffersonian
				religion = libertarian
			}
		}
	}
	
	7 = { # eyepatch 7 - green rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 2
			OR = {
				religion_group = muslim
				religion = gaian
				religion = consumerist
				religion = monetarist
			}
		}
	}
	
	8 = { # eyepatch 8 - red rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 2
			OR = {
				religion = trailwalker
				religion = trailwalker_reformed
			}
		}
	}
	
	9 = { # eyepatch 9 - bloodied rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NAND = {
					trait = one_eyed
					OR = {
						trait = wroth
						trait = cruel
						has_minor_title = title_commander
					}
				}
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 2
			OR = {
				trait = wroth
				trait = cruel
				has_minor_title = title_commander
			}
		}
		modifier = {
			factor = 2
			martial = 12
		}
	}
	
	10 = { # eyepatch 10 - tartan rag
		factor = 3
		modifier = {
			factor = 0
			OR = {
				NAND = {
					trait = one_eyed
					culture_group = north_atlantic
				}
				has_character_modifier = glass_eye
			}
		}
	}
	
	11 = { # eyepatch 11 - scarred eye 1
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = one_eyed }
		}
		modifier = {
			factor = 0
			trait = shy
		}
		modifier = {
			factor = 4
			OR = {
				is_tribal = yes
				is_nomadic = yes
				trait = stubborn
			}
		}
	}
	
	12 = { # eyepatch 12 - scarred eye 2
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = one_eyed }
		}
		modifier = {
			factor = 0
			trait = shy
		}
		modifier = {
			factor = 4
			OR = {
				is_tribal = yes
				is_nomadic = yes
				trait = stubborn
			}
		}
	}
}

# p14 chinese makeup
14 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			chinese_makeup_trigger = yes
		}
	}

	1 = { # white powder
		factor = 1
	}
	
	2 = { # rouge a only
		factor = 1
	}
	
	3 = { # white powder and rouge a
		factor = 1
	}
	
	4 = { # rouge b only
		factor = 1
	}

	5 = { # white powder and rouge b
		factor = 1
	}
}

# p15 chinese makeup 2
15 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			chinese_makeup_trigger = yes
		}
	}

	1 = { # full lips
		factor = 1
	}
	
	2 = { # top lip
		factor = 1
	}
	
	3 = { # 'heart' lips
		factor = 1
	}
}

# p16 chinese empress jewelry
16 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			chinese_empress_jewelry_trigger = yes
		}
	}

	1 = { # Full face pearls and earrings
		factor = 1
	}
	
	2 = { # pearl earrings only
		factor = 1
	}
	
	3 = { # full face pearls and earrings 2
		factor = 1
	}
}

# p17 immortality
17 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			immortal = yes
		}
	}
	1 = {
		factor = 100
	}
}

# p18 Special crowns_behind
18 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_minor_title = title_cardinal
				has_minor_title = title_ursuline_cardinal
				has_minor_title = title_mormon_cardinal
				has_minor_title = title_druid_circle_member
			}
		}
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes  # Has to wear helmet instead.
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
			OR = {
				trait = dead_crown_hcc #Dead kings don't have artifacts
				trait = dead_crown_california #Dead kings don't have artifacts (replacing Byzantine?)
				trait = dead_crown_fylkir #Dead kings don't have artifacts
				trait = dead_crown_revelationist_fylkir #Dead kings don't have artifacts
				trait = dead_crown_occultist_fylkir
				trait = dead_crown_thelemic_fylkir
				trait = dead_crown_celtic_fylkir
				trait = dead_crown_aztec_fylkir #used for Aztec emperors of Mexico
				trait = dead_crown_raven_tales_fylkir
				trait = dead_crown_judah
				trait = dead_crown_espiritista_fylkir
				trait = dead_crown_trailwalker_fylkir
				trait = dead_scepter_midewiwin_fylkir
				trait = dead_cursed_diamond_crown
			}
		}
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes  # Has to wear helmet instead.
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
			any_artifact = {
				OR = {
					artifact_type = crown_hcc
					artifact_type = crown_california #will use Byzantine Crown sprite
					artifact_type = crown_fylkir
					artifact_type = crown_revelationist_fylkir
					artifact_type = crown_occultist_fylkir
					artifact_type = crown_thelemic_fylkir
					artifact_type = crown_celtic_fylkir
					artifact_type = crown_lion_judah #will use west african crown sprite
					artifact_type = crown_raven_tales_fylkir
					artifact_type = crown_trailwalker_fylkir
					artifact_type = crown_espiritista_fylkir
					artifact_type = scepter_midewiwin_fylkir
					artifact_type = cursed_diamond_crown
				}
				is_artifact_equipped = yes 
			}
		}
	}

	1 = {
		factor = 1
		modifier = { # Makes it so the two layers are always matched (if conditions for p19/frame1 are true, use p18/frame1).
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 1 } }
		}
	}
	
	2 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 2 } }
		}
	}
	
	3 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 3 } }
		}
	}
	4 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 4 } }
		}
	}
	5 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 5 } }
		}
	}
	6 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 6 } }
		}
	}
	7 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 7 } }
		}
	}
	8 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 8 } }
		}
	}
	9 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 9 } }
		}
	}
	10 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 10 } }
		}
	}
	11 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 11 } }
		}
	}
	12 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 12 } }
		}
	}
	13 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 13 } }
		}
	}
	14 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 14 } }
		}
	}
	15 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 15 } }
		}
	}
}

# p19 Special crowns 
19 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_minor_title = title_cardinal
				has_minor_title = title_ursuline_cardinal
				has_minor_title = title_mormon_cardinal
				has_minor_title = title_druid_circle_member
			}
		}
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes  # Has to wear helmet instead.
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
			OR = {
				trait = dead_crown_hcc #Dead kings don't have artifacts
				trait = dead_crown_california #Dead kings don't have artifacts (replacing Byzantine?)
				trait = dead_crown_fylkir #Dead kings don't have artifacts
				trait = dead_crown_revelationist_fylkir #Dead kings don't have artifacts
				trait = dead_crown_occultist_fylkir
				trait = dead_crown_thelemic_fylkir
				trait = dead_crown_celtic_fylkir
				trait = dead_crown_aztec_fylkir #used for Aztec emperors of Mexico
				trait = dead_crown_raven_tales_fylkir
				trait = dead_crown_judah
				trait = dead_crown_espiritista_fylkir
				trait = dead_crown_trailwalker_fylkir
				trait = dead_scepter_midewiwin_fylkir
				trait = dead_cursed_diamond_crown
			}
		}
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes  # Has to wear helmet instead.
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
			any_artifact = {
				OR = {
					artifact_type = crown_hcc
					artifact_type = crown_california #will use Byzantine Crown sprite
					artifact_type = crown_fylkir
					artifact_type = crown_revelationist_fylkir
					artifact_type = crown_occultist_fylkir
					artifact_type = crown_thelemic_fylkir
					artifact_type = crown_celtic_fylkir
					artifact_type = crown_lion_judah #will use west african crown sprite
					artifact_type = crown_raven_tales_fylkir
					artifact_type = crown_trailwalker_fylkir
					artifact_type = crown_espiritista_fylkir
					artifact_type = scepter_midewiwin_fylkir
					artifact_type = cursed_diamond_crown
				}
				is_artifact_equipped = yes 
			}
		}
	}

	1 = {
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #HRE crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_hcc
					is_artifact_equipped = yes 
				}
				trait = dead_crown_hcc
			}
		}
	}
	
	2 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Byzantine Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_lion_judah
					is_artifact_equipped = yes 
				}
				trait = dead_crown_lion_judah
			}
		}
	}
	
	3 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Cursed Diamond Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = cursed_diamond_crown
					is_artifact_equipped = yes 
				}
				trait = dead_cursed_diamond_crown
			}
		}
	}
	#4 = {	#UNUSED
	#	factor = 100
	#	hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
	#	modifier = {
	#		factor = 0
	#		in_command = yes
	#		has_game_rule = {
	#			name = martial_headgear
	#			value = on
	#		}
	#	}
	#	modifier = { #Iron Crown of Lombardy
	#		factor = 0
	#		NOR = { 
	#			any_artifact = {
	#				artifact_type = iron_crown_of_lombardy
	#				is_artifact_equipped = yes 
	#			}
	#			trait = dead_iron_crown_lombardy
	#		}
	#	}
	#}
	#5 = {	#UNUSED 
	#	factor = 100
	#	hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
	#	modifier = {
	#		factor = 0
	#		in_command = yes
	#		has_game_rule = {
	#			name = martial_headgear
	#			value = on
	#		}
	#	}
	#	modifier = { #Imperial Laurels
	#		factor = 0
	#		NOT = { trait = augustus }
	#	}
	#}
	6 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Pahlavi Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_california
					is_artifact_equipped = yes 
				}
				trait = dead_crown_california
			}
		}
	}
	7 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Fylkir Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_fylkir
			}
		}
	}
	8 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Tengri Fylkir Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_thelemic_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_thelemic_fylkir
			}
		}
	}
	9 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Finnish Fylkir Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_occultist_fylkir
					is_artifact_equipped = yes 
				}
				any_artifact = {
					artifact_type = crown_celtic_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_occultist_fylkir
				trait = dead_crown_celtic_fylkir
			}
		}
	}
	10 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #West-African Fylkir Crown
			factor = 0
			NOT = {
				any_artifact = {
					artifact_type = crown_espiritista_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_lion_judah
				trait = dead_crown_espiritista_fylkir
			}
		}
	}
	11 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Slavic/Romva Fylkir Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_revelationist_fylkir
					is_artifact_equipped = yes 
				}
				any_artifact = {
					artifact_type = crown_trailwalker_fylkir
					is_artifact_equipped = yes 
				}
				any_artifact = {
					artifact_type = crown_raven_tales_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_slavic_fylkir
				trait = dead_crown_romuva_fylkir
			}
		}
	}
	#12 = { 
	#	factor = 100
	#	hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
	#	modifier = { #Zunist Fylkir Crown
	#		factor = 0
	#		NOR = { 
	#			any_artifact = {
	#				artifact_type = crown_zun_fylkir
	#				is_artifact_equipped = yes 
	#			}
	#			trait = dead_crown_zun_fylkir
	#		}
	#	}
	#}
	#13 = { 
	#	factor = 100
	#	hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
	#	modifier = { #Aztec Fylkir Crown
	#		factor = 0
	#		NOR = { 
	#			any_artifact = {
	#				artifact_type = crown_aztec_fylkir
	#				is_artifact_equipped = yes 
	#			}
	#			trait = dead_crown_aztec_fylkir
	#		}
	#	}
	#}
	14 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		#modifier = {
		#	factor = 0
		#	year = 1245
		#}
		modifier = {
			factor = 0
			NOR = {
				has_minor_title = title_cardinal
				has_minor_title = title_ursuline_cardinal
				has_minor_title = title_mormon_cardinal
				has_minor_title = title_druid_circle_member
			}
		}
	}
	15 = { 
		factor = 100
		hide_layers = { 3 = { } } #Hide layer 3 (clothes) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		#modifier = {
		#	factor = 0
		#	NOT = {
		#		year = 1245
		#	}
		#}
		modifier = {
			factor = 0
			NOR = {
				has_minor_title = title_cardinal
				has_minor_title = title_ursuline_cardinal
				has_minor_title = title_mormon_cardinal
				has_minor_title = title_druid_circle_member
			}
		}
	}
}

# p20 freckles
#Freckles traits from thinnest to thickest:
#freckles_3
#freckles_2
#freckles
#freckles_4
#freckles_5
20 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = { 
				trait = freckles_3
				trait = freckles_2
				trait = freckles
				trait = freckles_4
				trait = freckles_5
			}
		}
 	}

	1 = { # freckles
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = freckles }
		}
  	}
	2 = { # freckles
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = freckles_2 }
		}
  	}
	3 = { # freckles
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = freckles_3 }
		}
  	}
	4 = { # freckles
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = freckles_4 }
		}
  	}
	5 = { # freckles
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = freckles_5 }
		}
  	}
}

# p21 physique
21 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = { 
				trait = is_fat
				trait = sturdy
			}
		}
 	}
	1 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = sturdy }
		}
		modifier = {
			factor = 0
			trait = is_fat
		}
		modifier = {
			factor = 0
			age = 30
		}
  	}
	2 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = sturdy }
		}
		modifier = {
			factor = 0
			trait = is_fat
		}
		modifier = {
			factor = 0
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0
			age = 50
		}
  	}
	3 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = sturdy }
		}
		modifier = {
			factor = 0
			trait = is_fat
		}
		modifier = {
			factor = 0
			NOT = { age = 50 }
		}
  	}
	4 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = is_fat }
		}
		modifier = {
			factor = 0
			age = 30
		}
  	}
	5 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = is_fat }
		}
		modifier = {
			factor = 0
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0
			age = 50
		}
  	}
	6 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = is_fat }
		}
		modifier = {
			factor = 0
			NOT = { age = 50 }
		}
  	}
}

#p22 malnourished
22 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = { 
				trait = ill
				trait = is_malnourished
			}
		}
 	}

	1 = { #pale 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = ill }
			NOT = { trait = is_malnourished }
		}
  	}
}

#p23 black eye
23 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_character_modifier = black_eye
				has_character_modifier = concussion 
				trait = wounded
			}
		}
 	}

	1 = { #black eye. 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = black_eye }
		}
		modifier = {
			factor = 0
			has_character_modifier = black_eye
			has_character_modifier = concussion 
		}
  	}
	2 = { #Concussion.
		factor = 100
		modifier = {
			factor = 0
			NOR = { 
				has_character_modifier = concussion 
				trait = wounded
			}
		}
		modifier = {
			factor = 0
			has_character_modifier = black_eye
			OR = { 
				has_character_modifier = concussion 
				trait = wounded
			}
		}
  	}
	3 = { #Concussion AND Black eye.
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				OR = { 
					has_character_modifier = concussion 
					trait = wounded
				}
				has_character_modifier = black_eye
			}
		}
  	}
}

#p24 harelip
24 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			trait = harelip
		}
 	}

	1 = { #black eye. 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = harelip }
		}
  	}
}

#To add new set of scars, add new _type_ hidden trait, edit the scar-assignment scripted effect, add entries in portrait properties, add new frame and ALL THREE tiers (regular, _mid, and _high).
# p25 mid scars - Tier II
25 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			has_dlc = "Holy Fury"
			trait = scarred_mid
			OR = {
				trait = scarred_type_1
				trait = scarred_type_2
				trait = scarred_type_3
				trait = scarred_type_4
				trait = scarred_type_5
				trait = scarred_type_6
				trait = scarred_type_7
				trait = scarred_type_8
				trait = scarred_type_9
				trait = scarred_type_10
			}
		}
   	}

	1 = { # scar 1 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_1
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}

	2 = { # scar 2 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_2
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}

	3 = { # scar 3 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_3
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}

	4 = { # scar 4 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_4
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	5 = { # scar 5 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_5
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	6 = { # scar 6 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_6
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	7 = { # scar 7 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_7
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	8 = { # scar 8 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_8
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	9 = { # scar 9 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_9
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	10 = { # scar 10 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_10
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
}

# p26 high scars - Tier III
26 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			has_dlc = "Holy Fury"
			trait = scarred_high
			OR = {
				trait = scarred_type_1
				trait = scarred_type_2
				trait = scarred_type_3
				trait = scarred_type_4
				trait = scarred_type_5
				trait = scarred_type_6
				trait = scarred_type_7
				trait = scarred_type_8
				trait = scarred_type_9
				trait = scarred_type_10
			}
		}
   	}

	1 = { # scar 1 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_1
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}

	2 = { # scar 2 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_2
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}

	3 = { # scar 3 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_3
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}

	4 = { # scar 4 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_4
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	5 = { # scar 5 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_5
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	6 = { # scar 6 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_6
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	7 = { # scar 7 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_7
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	8 = { # scar 8 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_8
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	9 = { # scar 9 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_9
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	10 = { # scar 10 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_10
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
}

#p27 Blood Splatter
27 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			NOT = {
				has_game_rule = {
	   				name = blood_splatter_rule
					value = off
	   			}
   			}
			OR = {
				has_character_modifier = blood_splatter_1
				has_character_modifier = blood_splatter_2
				has_character_modifier = blood_splatter_3
				has_character_modifier = mud_splatter
			}
		}
 	}

	1 = { #Some. 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = blood_splatter_1 }
		}
		modifier = {
			factor = 0
			has_game_rule = {
   				name = blood_splatter_rule
				value = off
   			}
		}
  	}
	2 = { #A lot.
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = blood_splatter_2 }
		}
		modifier = {
			factor = 0
			has_game_rule = {
   				name = blood_splatter_rule
				value = off
   			}
		}
  	}
	3 = { #Bathory.
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = blood_splatter_3 }
		}
		modifier = {
			factor = 0
			has_game_rule = {
   				name = blood_splatter_rule
				value = off
   			}
		}
  	}
	4 = { #Mud splatter.
		factor = 100
		modifier = {
			factor = 0
			has_game_rule = {
   				name = blood_splatter_rule
				value = off
   			}
		}
		modifier = {
			factor = 0
			NOT = { has_character_modifier = mud_splatter }
		}
		modifier = { #Prioritize blood.
			factor = 0
			OR = {
				has_character_modifier = blood_splatter_1
				has_character_modifier = blood_splatter_2
				has_character_modifier = blood_splatter_3
			}
		}
  	}
}

#p28 Tattoos
28 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				trait = african_tattoo_1
				trait = african_tattoo_2
				trait = african_tattoo_3
				trait = african_tattoo_4
				trait = african_tattoo_5
				trait = african_tattoo_6
				trait = african_tattoo_7
				trait = african_tattoo_8
				trait = african_tattoo_9
				trait = african_tattoo_10
				trait = african_tattoo_11
				trait = african_tattoo_12

				trait = norse_tattoo_1
				trait = norse_tattoo_2
				trait = norse_tattoo_3
				trait = norse_tattoo_4
				trait = norse_tattoo_5
				trait = norse_tattoo_6

				trait = slavic_tattoo_1
				trait = slavic_tattoo_2
				trait = slavic_tattoo_3
				trait = slavic_tattoo_4
				trait = slavic_tattoo_5
				trait = slavic_tattoo_6
			}
		}
 	}

	1 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_1 }
		}
  	}
	2 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_2 }
		}
  	}
	3 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_3 }
		}
  	}
	4 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_4 }
		}
  	}
	5 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_5 }
		}
  	}
	6 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_6 }
		}
  	}
	7 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_7 }
		}
  	}
	8 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_8 }
		}
  	}
	9 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_1 }
		}
  	}
	10 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_2 }
		}
  	}
	11 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_3 }
		}
  	}
	12 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_4 }
		}
  	}
	13 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_5 }
		}
  	}
	14 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_6 }
		}
  	}
	15 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_1 }
		}
  	}
	16 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_2 }
		}
  	}
	17 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_3 }
		}
  	}
	18 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_4 }
		}
  	}
	19 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_5 }
		}
  	}
	20 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_6 }
		}
  	}
	21 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_9 }
		}
  	}
	22 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_10 }
		}
  	}
	23 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_11 }
		}
  	}
	24 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_12 }
		}
  	}
}

#p29 Warpaint
29 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_character_modifier = aztec_warpaint_1
				has_character_modifier = aztec_warpaint_2
				has_character_modifier = finnish_warpaint_1
				has_character_modifier = finnish_warpaint_2
				has_character_modifier = zun_warpaint_1
				has_character_modifier = zun_warpaint_2
				has_character_modifier = tengri_warpaint_1
				has_character_modifier = tengri_warpaint_2
			}
 		}
 	}

	1 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = aztec_warpaint_1 }
		}
  	}
	2 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = aztec_warpaint_2 }
		}
  	}
	3 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = finnish_warpaint_1 }
		}
  	}
	4 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = finnish_warpaint_2 }
		}
  	}
	5 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = zun_warpaint_1 }
		}
  	}
	6 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = zun_warpaint_2 }
		}
  	}
	7 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = tengri_warpaint_1 }
		}
  	}
	8 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = tengri_warpaint_2 }
		}
  	}
}

#p30 Demon Child (fantasy only)
30 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			has_character_modifier = demon_horns
			has_game_rule = {
   				name = supernatural_events
				value = unrestricted
   			}
 		}
 	}

	1 = { 
		factor = 100 
		modifier = {
			factor = 0
			NOT = { 
				has_game_rule = {
   					name = supernatural_events
					value = unrestricted
   				}
			}
		}
		modifier = {
			factor = 0
			NOT = {
				has_character_modifier = demon_horns
   			}
		}
  	}
}

#p31 frankish Culture Overlayer - Male
31 = {
	0 = { # Blank
		factor = 100
		trigger = {
			OR = {
				has_game_started = no
				is_in_society = yes
				is_theocracy = yes
				is_merchant_republic = yes
				has_job_title = job_spiritual
				french_overlayer_special_crown_trigger = yes
				NOR = {
					#has_portrait_property = { layer = 5 index = 0 }
					#has_portrait_property = { layer = 5 index = 1 }
					#has_portrait_property = { layer = 5 index = 2 }
					#has_portrait_property = { layer = 5 index = 3 }
					#has_portrait_property = { layer = 5 index = 4 }
					#has_portrait_property = { layer = 5 index = 10 }
					french_martial_overlayer_trigger = yes
					french_count_overlayer_trigger = yes
					french_duke_overlayer_trigger = yes
				}
			}
		}
	}
	1 = { # Military Helm 01
		factor = 100
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	2 = { # Military Helm 02
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	3 = { # Military Helm 03
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	4 = { # Military Helm 04
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	5 = { # Count Accessories
		trigger = {
			french_count_overlayer_trigger = yes
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	6 = { # Count Accessories
		factor = 1
		trigger = {
			french_count_overlayer_trigger = yes
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	7 = { # Count Accessories
		factor = 1
		trigger = {
			french_count_overlayer_trigger = yes
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	8 = { # Count Accessories
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_count_overlayer_trigger = yes
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	9 = { # Count Accessories
		factor = 1
		trigger = {
			french_count_overlayer_trigger = yes
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	10 = { # Duke Accessories
		trigger = {
			french_duke_overlayer_trigger = yes
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	11 = { # Duke Accessories
		trigger = {
			french_duke_overlayer_trigger = yes
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	12 = { # Duke Accessories
		trigger = {
			french_duke_overlayer_trigger = yes
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	13 = { # Duke Accessories
		trigger = {
			french_duke_overlayer_trigger = yes
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	14 = { # Duke Accessories
		factor = 1
		trigger = {
			french_duke_overlayer_trigger = yes
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
}

#p32 frankish Culture Overlayer - Female
32 = {
	0 = { # Blank
	factor = 100
		trigger = {
			OR = {
				has_game_started = no
				is_in_society = yes
				is_theocracy = yes
				is_merchant_republic = yes
				has_job_title = job_spiritual
				french_overlayer_special_crown_trigger = yes
				NOR = {
					#has_portrait_property = { layer = 5 index = 0 }
					#has_portrait_property = { layer = 5 index = 1 }
					#has_portrait_property = { layer = 5 index = 2 }
					#has_portrait_property = { layer = 5 index = 3 }
					#has_portrait_property = { layer = 5 index = 4 }
					#has_portrait_property = { layer = 5 index = 10 }
					french_martial_overlayer_trigger = yes
					french_duchess_overlayer_trigger = yes
					french_countess_overlayer_trigger = yes
					french_courtier_overlayer_trigger = yes
				}
			}
		}
	}
	1 = { # Military Helm 01
		factor = 1
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	2 = { # Military Helm 02
		factor = 1
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	3 = { # Military Helm 03
		factor = 1
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	4 = { # Military Helm 04
		factor = 1
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	5 = { # Duchess Accessories - Early
		factor = 1
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	6 = { # Duchess Accessories - Early
		factor = 1
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	7 = { # Duchess Accessories - Early
		factor = 1
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	8 = { # Duchess Accessories - Post-1180
		factor = 1
		trigger = {
			french_duchess_overlayer_trigger = yes
			year = 1180
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	9 = { # Duchess Accessories - Post-1180
		factor = 1
		trigger = {
			french_duchess_overlayer_trigger = yes
			year = 1180
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	10 = { # Countess Accessories - Early
		factor = 1
		trigger = {
			french_countess_overlayer_trigger = yes
			NOT = { year = 1180 }
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	11 = { # Countess Accessories - Early
		factor = 1
		trigger = {
			french_countess_overlayer_trigger = yes
			NOT = { year = 1180 }
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	12 = { # Countess Accessories - Post-1180
		factor = 1
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	13 = { # Countess Accessories - Post-1180
		factor = 1
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	14 = { # Countess Accessories - Post-1180
		factor = 1
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	15 = { # Countess Accessories - Post-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	16 = { # Non-noble Pre-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	17 = { # Non-noble Pre-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	18 = { # Non-noble Pre-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	19 = { # Non-noble Pre-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	20 = { # Non-noble Post-1180
		factor = 1
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			year = 1180
		}
	}
	21 = { # Non-noble Post-1180
		factor = 1
		trigger = {
			french_courtier_overlayer_trigger = yes
			year = 1180
		}
	}
	22 = { # Non-noble Post-1180
		factor = 1
		trigger = {
			french_courtier_overlayer_trigger = yes
			year = 1180
		}
	}
	23 = { # Non-noble Post-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			year = 1180
		}
	}
	24 = { # Non-noble Post-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			year = 1180
		}
	}
}

#p33 frankish Culture Underlayer and Hair - Female
33 = {
	0 = { # Blank
		factor = 100
		trigger = {
			OR = {
				has_game_started = no
				is_in_society = yes
				is_theocracy = yes
				is_merchant_republic = yes
				has_job_title = job_spiritual
				french_overlayer_special_crown_trigger = yes
				NOR = {
					#has_portrait_property = { layer = 5 index = 0 }
					#has_portrait_property = { layer = 5 index = 1 }
					#has_portrait_property = { layer = 5 index = 2 }
					#has_portrait_property = { layer = 5 index = 3 }
					#has_portrait_property = { layer = 5 index = 4 }
					#has_portrait_property = { layer = 5 index = 10 }
					french_queen_underlayer_trigger = yes
					french_duchess_overlayer_trigger = yes
					french_countess_overlayer_trigger = yes
				}
			}
		}
	}
	1 = { # Empress / Queen Pre-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	2 = { # Empress / Queen Pre-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	3 = { # Empress / Queen Pre-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	4 = { # Empress / Queen Pre-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	5 = { # Empress / Queen Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			year = 1180
		}
	}
	6 = { # Empress / Queen Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			year = 1180
		}
	}
	7 = { # Empress / Queen Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			year = 1180
		}
	}
	8 = { # Empress / Queen Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			year = 1180
		}
	}
	9 = { # Duchess Early
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	10 = { # Duchess Early
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	11 = {  # Duchess Early
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	12 = { # Duchess Early
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	13 = { # Duchess Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			year = 1180
		}
	}
	14 = { # Duchess Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			year = 1180
		}
	}
	15 = { # Countess Early
		factor = 100
		hide_layers = { 1 = { } }
		trigger = {
			french_countess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	16 = { # Countess Early
		factor = 100
		hide_layers = { 1 = { } }
		trigger = {
			french_countess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	17 = { # Countess Early
		factor = 100
		hide_layers = { 1 = { } }
		trigger = {
			french_countess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	18 = { # Countess Post-1180
		factor = 100
		hide_layers = { 1 = { } }
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
		}
	}
	19 = { # Countess Post-1180
		factor = 100
		hide_layers = { 1 = { } }
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
		}
	}
}

# p34 Special Helmets 
34 = {
	0 = { # blank
		factor = 100
		modifier = { #Templar special headgear.
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
			OR = {
				religion = catholic
				religion = ursuline
				religion = revelationist_reformed
			}
			OR = {
				has_landed_title = d_knights_of_columbus 
				has_landed_title = d_knights_of_peter_claver
				has_landed_title = d_st_ursulas_chosen
				has_landed_title = k_ursuline_state
				has_landed_title = d_lebanon_brethren
				has_landed_title = d_flaming_sword
				has_landed_title = d_national_cathedral
				has_landed_title = d_salvation_army
				liege = { has_landed_title = d_knights_of_columbus }
				liege = { has_landed_title = d_knights_of_peter_claver }
				liege = { has_landed_title = d_st_ursulas_chosen }
				liege = { has_landed_title = k_ursuline_state }
				liege = { has_landed_title = d_lebanon_brethren }
				liege = { has_landed_title = d_flaming_sword }
				liege = { has_landed_title = d_national_cathedral }
				liege = { has_landed_title = d_salvation_army }
			}
		}
		modifier = { #Wearable Crown artifacts.
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
			OR = { 
				any_artifact = { artifact_type = crown_crusader_king is_artifact_equipped = yes } 
				any_artifact = { artifact_type = crown_winged_helmet is_artifact_equipped = yes } 
				any_artifact = { artifact_type = crown_wrapped_helmet is_artifact_equipped = yes } 
			}
		}
		modifier = { #Unicorn
			factor = 0
			any_artifact = { artifact_type = crown_unicorn_helmet is_artifact_equipped = yes } 
		}
	}
	1 = { #Templar special headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = { 
			factor = 0
			NAND = {
				in_command = yes
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		modifier = {
			factor = 0
			NOR = {
				has_landed_title = d_knights_of_columbus 
				liege = { has_landed_title = d_knights_of_columbus }
			}
		}
	}
	2 = {  #Crusader King helmet - Male.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = {
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_crusader_king
					is_artifact_equipped = yes 
				}
			}
		}
		modifier = {
			factor = 0
			is_female = yes
		}
		modifier = { 
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
	}
	3 = { #Crusader King helmet - Female.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = { 
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_crusader_king
					is_artifact_equipped = yes 
				}
			}
		}
		modifier = {
			factor = 0
			is_female = no
		}
		modifier = { 
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
	}
	4 = { #Hospitaler special headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = { 
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		modifier = {
			factor = 0
			NOR = {
				has_landed_title = d_knights_of_peter_claver
				liege = { has_landed_title = d_knights_of_peter_claver }
			}
		}
	}
	5 = {  #Teuton special headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		modifier = {
			factor = 0
			NOR = {
				has_landed_title = d_st_ursulas_chosen
				has_landed_title = k_ursuline_state
				liege = { has_landed_title = d_st_ursulas_chosen }
				liege = { has_landed_title = k_ursuline_state }
			}
		}
	}
	6 = { #Wearable Winged Helmet
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = { 
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_winged_helmet
					is_artifact_equipped = yes 
				}
			}
		}
		modifier = { 
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
	}
	7 = {  #Calatrava/Santiago special headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		modifier = {
			factor = 0
			NOR = {
				has_landed_title = d_lebanon_brethren 
				has_landed_title = d_national_cathedral 
				has_landed_title = d_salvation_army 
				liege = { has_landed_title = d_lebanon_brethren }
				liege = { has_landed_title = d_national_cathedral }
				liege = { has_landed_title = d_salvation_army }
			}
		}
	}
	8 = { #Wearable Wrapped Helmet
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = { 
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_wrapped_helmet
					is_artifact_equipped = yes 
				}
			}
		}
		modifier = { 
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
	}
	9 = { #Livonian special headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		modifier = {
			factor = 0
			NOR = {
				has_landed_title = d_flaming_sword 
				liege = { has_landed_title = d_flaming_sword }
			}
		}
	}
	10 = { #Unicorn headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		#modifier = {
		#	factor = 0
		#	NAND = { 
		#		in_command = yes 
		#		has_game_rule = {
		#			name = martial_headgear
		#			value = on
		#		}
		#	}
		#}
		modifier = {
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_unicorn_helmet
					is_artifact_equipped = yes 
				}
			}
		}
	}
}


# p35 Special Masks 
35 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			any_artifact = {
				OR = { #Different modifier since in this case being in command should not prevent you from wearing the mask.
					artifact_type = crown_african_mask_1
					artifact_type = crown_african_mask_2
					artifact_type = crown_african_mask_3
					artifact_type = crown_african_mask_4
					artifact_type = crown_african_mask_5
					artifact_type = crown_african_mask_6
					artifact_type = crown_african_mask_7
					artifact_type = crown_african_mask_8
				}
				is_artifact_equipped = yes 
			}
		}
	}

	1 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_1
					is_artifact_equipped = yes 
				}
			}
		}
	}
	2 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_2
					is_artifact_equipped = yes 
				}
			}
		}
	}
	3 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_3
					is_artifact_equipped = yes 
				}
			}
		}
	}
	4 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_4
					is_artifact_equipped = yes 
				}
			}
		}
	}
	5 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_5
					is_artifact_equipped = yes 
				}
			}
		}
	}
	6 = { 
		factor = 100
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_6
					is_artifact_equipped = yes 
				}
			}
		}
	}
	7 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_7
					is_artifact_equipped = yes 
				}
			}
		}
	}
	8 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_8
					is_artifact_equipped = yes 
				}
			}
		}
	}
}

# p36 Special Scepters 
36 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			trait = dead_scepter_midewiwin_fylkir
		}
		modifier = {
			factor = 0
			OR = {
				in_command = no
				has_game_rule = {
					name = martial_headgear
					value = off
				}
			}
			any_artifact = {
				artifact_type = scepter_midewiwin_fylkir
				is_artifact_equipped = yes 
			}
		}
	}
	1 = { 
		factor = 100
		#hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Bon Fylkir Scepter
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = scepter_midewiwin_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_scepter_midewiwin_fylkir
			}
		}
	}
	#2 = {	#UNUSED
	#	factor = 100
	#	#hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
	#	modifier = {
	#		factor = 0
	#		in_command = yes
	#		has_game_rule = {
	#			name = martial_headgear
	#			value = on
	#		}
	#	}
	#	modifier = { #Hellenic Fylkir Scepter
	#		factor = 0
	#		NOR = { 
	#			any_artifact = {
	#				artifact_type = scepter_hellenic_fylkir
	#				is_artifact_equipped = yes 
	#			}
	#			trait = dead_scepter_hellenic_fylkir
	#		}
	#	}
	#}
}

# p37 Special Relations (lover/rival) #TODO_CD: update once we have proper scopes
37 = {
	0 = { # blank
		factor = 100
		trigger = {
			NOR = {
				any_player = { is_rival = PREV }
				any_player = { is_lover = PREV }
			}
		}
	}
	1 = { 
		factor = 100
		trigger = {
			any_player = { is_rival = PREV }
		}
	}
	2 = { 
		factor = 100
		trigger = {
			any_player = { is_lover = PREV }
		}
	}
}